import{c as At,a as H,f as V,e as X,s as x,b as gt}from"../chunks/0_rC2APb.js";import{i as Ie}from"../chunks/CVsnV3yo.js";import{t as dt,at as Ft,au as Pt,av as Mt,aw as kt,g as Xt,G as Bt,X as je,Y as Ct,_ as Le,b as e,m as ae,ax as R,ay as vt,az as ht,aA as Nt,$ as o,a1 as u,u as g,f as W,a0 as l,Z as se,a as U,aB as pt,V as Re,aC as Yt}from"../chunks/CcQMPKyu.js";import{i as Ee,a as Ze,s as tt}from"../chunks/Dm90p_dg.js";import{o as rt,a as Ot}from"../chunks/ClFr3aSt.js";import{p as N,b as et}from"../chunks/BymKy_JL.js";import{t as qt,s as $e,a as it}from"../chunks/DAzgra6z.js";function lt(c,n={},d,r){for(var i in d){var v=d[i];n[i]!==v&&(d[i]==null?c.style.removeProperty(i):c.style.setProperty(i,v,r))}}function yt(c,n,d,r){var i=c.__style;if(dt||i!==n){var v=qt(n,r);(!dt||v!==c.getAttribute("style"))&&(v==null?c.removeAttribute("style"):c.style.cssText=v),c.__style=n}else r&&(Array.isArray(r)?(lt(c,d==null?void 0:d[0],r[0]),lt(c,d==null?void 0:d[1],r[1],"important")):lt(c,d,r));return r}const Wt=Symbol("is custom element"),Dt=Symbol("is html");function nt(c,n,d,r){var i=Ut(c);dt&&(i[n]=c.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&c.nodeName==="LINK")||i[n]!==(i[n]=d)&&(n==="loading"&&(c[kt]=d),d==null?c.removeAttribute(n):typeof d!="string"&&Ht(c).includes(n)?c[n]=d:c.setAttribute(n,d))}function Ut(c){return c.__attributes??(c.__attributes={[Wt]:c.nodeName.includes("-"),[Dt]:c.namespaceURI===Ft})}var ct=new Map;function Ht(c){var n=ct.get(c.nodeName);if(n)return n;ct.set(c.nodeName,n=[]);for(var d,r=c,i=Element.prototype;i!==r;){d=Mt(r);for(var v in d)d[v].set&&n.push(v);r=Pt(r)}return n}function Ve(c,n,d){var r=Xt(c,n);r&&r.set&&(c[n]=d,Bt(()=>{c[n]=null}))}const zt=!0,Fi=Object.freeze(Object.defineProperty({__proto__:null,prerender:zt},Symbol.toStringTag,{value:"Module"}));function mt(c,n,d,r,i){return new Promise((v,T)=>{const _=new Image;_.onload=()=>v({name:c,image:_,width:n,height:d,totalFrames:r,frameTime:i}),_.onerror=()=>T,_.src=`/game/${c}.png`})}function Vt(c,n,d){return new Promise((r,i)=>{try{const v=document.createElement("canvas"),T=v.getContext("2d");if(!T){i(new Error("Could not get canvas context"));return}v.width=64,v.height=64,T.drawImage(n,d.x,d.y,64,64,0,0,64,64);const _=new Image;_.onload=()=>{r({name:`${c}${d.name}`,image:_,width:64,height:64,totalFrames:1,frameTime:0})},_.onerror=()=>i(new Error(`Failed to create extracted sprite: ${d.name}`)),_.src=v.toDataURL("image/png")}catch(v){i(v)}})}function $t(c){return new Promise((n,d)=>{const r=new Image;r.onload=async()=>{try{const i=await Promise.all(c.regions.map(v=>Vt(c.name,r,v)));n(i)}catch(i){d(i)}},r.onerror=()=>d(new Error(`Failed to load spritesheet: ${c.name}`)),r.src=`/game/${c.name}.png`})}async function Zt(){let c=[{name:"BackgroundSunset",width:640,height:320,totalFrames:1,frameTime:0},{name:"GroundFlat",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundFlatEndLeft",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundFlatEndRight",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilEndLeft",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilEndRight",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSlopeUp",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilSlopeUp",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoil",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSlopeDown",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilSlopeDown",width:128,height:128,totalFrames:1,frameTime:0},{name:"Bridge",width:256,height:128,totalFrames:1,frameTime:0},{name:"Barrel",width:64,height:64,totalFrames:1,frameTime:0},{name:"GroomIdle",width:64,height:64,totalFrames:2,frameTime:.25},{name:"GroomRun",width:64,height:64,totalFrames:8,frameTime:.125},{name:"GroomJump",width:64,height:64,totalFrames:5,frameTime:.1},{name:"BrideIdle",width:64,height:64,totalFrames:2,frameTime:.25},{name:"BrideRun",width:64,height:64,totalFrames:8,frameTime:.125},{name:"BrideJump",width:64,height:64,totalFrames:5,frameTime:.1},{name:"TifaIdle",width:64,height:64,totalFrames:4,frameTime:.25},{name:"AuraIdle",width:64,height:64,totalFrames:7,frameTime:.07142857142857142},{name:"RegenIdle",width:64,height:64,totalFrames:8,frameTime:.0625}],n=[{name:"WoodWall",regions:[{name:"TopLeft",x:0,y:0},{name:"TopMiddleLeft",x:64,y:0},{name:"TopMiddleRight",x:128,y:0},{name:"TopRight",x:192,y:0},{name:"MiddleLeft",x:0,y:64},{name:"MiddleMiddleLeft",x:64,y:64},{name:"MiddleMiddleRight",x:128,y:64},{name:"MiddleRight",x:192,y:64},{name:"BottomLeft",x:0,y:128},{name:"BottomMiddleLeft",x:64,y:128},{name:"BottomMiddleRight",x:128,y:128},{name:"BottomRight",x:192,y:128}]},{name:"Door",regions:[{name:"Top",x:0,y:0},{name:"Bottom",x:0,y:64}]}];try{const d=await Promise.all(c.map(v=>mt(v.name,v.width,v.height,v.totalFrames,v.frameTime))),i=(await Promise.all(n.map(v=>$t(v)))).flat();return[...d,...i]}catch(d){throw console.error("Error loading sprites:",d),d}return Promise.all(c.map(d=>mt(d.name,d.width,d.height,d.totalFrames,d.frameTime)))}function Kt(c,n){je(n,!1);const[d,r]=Ze();N(n,"PositionX",8),N(n,"PositionY",8),N(n,"VelocityX",8),N(n,"VelocityY",8),Ie();var i=At(),v=Ct(i);Ee(v,T=>{}),H(c,i),Le(),r()}function m(c,n,d,r,i,v=null){return{type:`Tile${v!==null&&v!=="None"?"Slope":"Rectangle"}`,x:n*64,y:d*64,width:r*64,height:i*64,image:c,tileWidthPx:64,tileHeightPx:64,slopeDirection:v===null?"None":v,collision:!0}}function st(c,n,d){return{name:c,x:n*64,y:d*64}}function ft(c="",n="",d="Idle",r=0,i=0,v=0,T=0,_="Up",A=10){return{type:"Actor",name:c,image:n,animation:{name:d,frame:0,lastFrameTime:0,direction:_},x:r,y:i,velocityX:v,velocityY:T,collisionBox:{x:16,y:0,width:32,height:64},onGround:!1,maxSpeed:300,acceleration:900,friction:.005,jumpPower:370,gravity:950,health:A,specialCooldownFrames:0,specialEffectFrames:0,width:64,height:64}}function at(c,n=0,d=0){return{id:(Math.random().toString(36)+"00000000000000000").slice(2,12),type:"Particle",name:c,image:c,animation:{name:"Idle",frame:0,lastFrameTime:0,direction:"Up"},x:n,y:d,width:64,height:64}}function Se(c,n,d){return{x:c,respawnX:n,respawnY:d}}var Jt=V('<div class="start svelte-wkwwvj"> </div>'),Qt=V('<div class="over svelte-wkwwvj"> <div class="again svelte-wkwwvj"> </div></div>'),ei=V('<div class="recharge svelte-wkwwvj"><div class="bar svelte-wkwwvj"></div> <div class="current svelte-wkwwvj"></div> <div class="recharge-title svelte-wkwwvj"> </div></div>'),ti=V('<div class="container svelte-wkwwvj"><!> <div class="canvas-container svelte-wkwwvj"><!> <!> <!> <canvas class="game-canvas svelte-wkwwvj" height="320px" tabindex="0"></canvas></div> <div class="mobile-controls svelte-wkwwvj"><div class="dpad svelte-wkwwvj"><div>↑</div> <div>←</div> <div>→</div></div> <div class="action-buttons svelte-wkwwvj"><div class="action-row svelte-wkwwvj"><div>X</div></div></div></div></div>');function ii(c,n){je(n,!1);const[d,r]=Ze(),i=()=>tt(it,"$_",d);let v=N(n,"GameImages",24,()=>({})),T=N(n,"PlayerName",8),_=N(n,"PlayerX",12),A=ae(),w,h=ae(),E,M=0,B=ae(640),L=!1,k=null;function Q(){if(e(h).parentElement==null)return;const t=e(h).parentElement.getBoundingClientRect();W(B,t.width),R(h,e(h).width=e(B))}let Y=ft("Shane","Groom","Idle");Y.x=4542,Object.defineProperty(Y,"x",{get(){return _()},set(t){_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(Y,"name",{get(){return T()},enumerable:!0,configurable:!0}),Object.defineProperty(Y,"image",{get(){return T()==="Shane"?"Groom":"Bride"},enumerable:!0,configurable:!0});let a=ae({camera:{x:0,y:0,smoothing:.1},worldBounds:{top:-400,bottom:400,left:-256,right:5568},prefabs:{House:{tiles:[m("WoodWallTopLeft",0,0,1,1),m("WoodWallTopMiddleLeft",1,0,1,1),m("WoodWallTopMiddleRight",2,0,1,1),m("WoodWallTopRight",3,0,1,1),m("WoodWallMiddleLeft",0,1,1,1),m("WoodWallMiddleMiddleLeft",1,1,1,1),m("WoodWallMiddleMiddleRight",2,1,1,1),m("WoodWallMiddleRight",3,1,1,1),m("WoodWallBottomLeft",0,2,1,1),m("WoodWallBottomMiddleLeft",1,2,1,1),m("WoodWallBottomMiddleRight",2,2,1,1),m("WoodWallBottomRight",3,2,1,1),m("DoorTop",2,1,1,1),m("DoorBottom",2,2,1,1)]},Barrel:{tiles:[m("Barrel",0,0,1,1)]}},scenery:[m("GroundFlatEndLeft",-1,4,1,1),m("GroundSoilEndLeft",-1,5,1,2),m("GroundSoil",0,5,15,2),m("GroundFlat",0,4,6,1),m("GroundSoilSlopeUp",6,4,1,1),m("GroundSoil",7,4,2,1),m("GroundSlopeUp",6,3,1,1,"UpRight"),m("GroundFlat",7,3,2,1),m("GroundSlopeDown",9,3,1,1,"DownRight"),m("GroundSoilSlopeDown",9,4,1,1,"DownRight"),m("GroundFlat",10,4,5,1),m("GroundFlatEndRight",15,4,1,1),m("GroundSoilEndRight",15,5,1,2),m("GroundFlatEndLeft",17,4,1,1),m("GroundSoilEndLeft",17,5,1,2),m("GroundFlatEndRight",18,4,1,1),m("GroundSoilEndRight",18,5,1,2),m("GroundFlatEndLeft",21,4,1,1),m("GroundSoilEndLeft",21,5,1,2),m("Bridge",22,4,1,1),m("GroundFlat",23,4,7,1),m("GroundSoil",23,5,7,2),m("GroundFlatEndRight",30,4,1,1),m("GroundSoilEndRight",30,5,1,2),m("GroundFlatEndLeft",36,3,1,1),m("GroundSoilEndLeft",36,4,1,3),m("GroundSoil",37,4,6,3),m("GroundFlat",37,3,6,1),m("GroundSlopeUp",43,2,1,1,"UpRight"),m("GroundSoilSlopeUp",43,3,1,1),m("GroundSoil",43,4,1,3),m("GroundSlopeUp",44,1,1,1,"UpRight"),m("GroundSoilSlopeUp",44,2,1,1),m("GroundSoil",44,3,1,4),m("GroundFlatEndRight",45,1,1,1),m("GroundSoilEndRight",45,2,1,5),m("GroundFlatEndLeft",54,5,1,1),m("GroundSoilEndLeft",54,6,1,1),m("GroundFlat",55,5,3,1),m("GroundSoil",55,6,3,1),m("GroundFlatEndRight",58,5,1,1),m("GroundSoilEndRight",58,6,1,1),m("GroundFlatEndLeft",61,4,1,1),m("GroundSoilEndLeft",61,5,1,2),m("GroundFlatEndRight",62,4,1,1),m("GroundSoilEndRight",62,5,1,2),m("GroundFlatEndLeft",65,3,1,1),m("GroundSoilEndLeft",65,4,1,3),m("GroundFlatEndRight",66,3,1,1),m("GroundSoilEndRight",66,4,1,3),m("GroundFlatEndLeft",71,3,1,1),m("GroundSoilEndLeft",71,4,1,3),m("GroundFlat",72,3,2,1),m("GroundSoil",72,4,2,3),m("GroundFlatEndRight",74,3,1,1),m("GroundSoilEndRight",74,4,1,3),m("GroundFlatEndLeft",82,2,1,1),m("GroundSoilEndLeft",82,3,1,4),m("GroundFlat",83,2,30,1),m("GroundSoil",83,3,30,4),m("GroundFlatEndRight",113,2,1,1),m("GroundSoilEndRight",113,3,1,4)],decorations:[st("House",2,1),st("Barrel",1,3),st("House",26,1)],actors:[ft("Tifa","Tifa","Idle",128,192)],particles:[],player:Y,checkpoints:[Se(4542,4542,0),Se(4158,4158,0),Se(3902,3902,64),Se(3456,3456,128),Se(2314,2314,0),Se(1350,1350,64),Se(1100,1120,64),Se(940,940,64),Se(-1e6,0,0)],background:"BackgroundSunset",events:{jump:!1,right:!1,left:!1,special:!1},over:!1});rt(()=>{let t=e(h).getContext("2d");if(t===null)throw Error("Unable to load 2d context");E=t,k=new IntersectionObserver(f=>{f.forEach(p=>{L=p.isIntersecting,L&&!w&&(M=0,w=requestAnimationFrame(S=>s(S/1e3)))})},{threshold:.1,rootMargin:"50px 0px"}),e(h).parentElement&&k.observe(e(h).parentElement);function s(f){if(E===null)return;if(!L){w=0;return}const p=M===0?0:f-M;M=f,E.clearRect(0,0,e(h).width,e(h).height),Z(),re(p,ue()),ee(),E.save(),E.translate(-e(a).camera.x,-e(a).camera.y),de("BackgroundSunset"),oe(),z(),$(f,p),te(f,p),le(f),E.restore(),w=requestAnimationFrame(S=>s(S/1e3))}return w=requestAnimationFrame(f=>s(f/1e3)),()=>{w&&cancelAnimationFrame(w),k&&k.disconnect()}});function Z(){if(!(e(a).player.y<=512)){for(let t of e(a).checkpoints)if(e(a).player.x>t.x){R(a,e(a).player.x=t.respawnX),R(a,e(a).player.y=t.respawnY),R(a,e(a).player.velocityX=0),R(a,e(a).player.velocityY=0);return}}}function re(t,s){me(e(a).player,e(a).events.left,e(a).events.right,e(a).events.jump,e(a).events.special,s,t),R(a,e(a).events.jump=!1),R(a,e(a).events.special=!1)}function ee(){const t=e(a).player.x+e(a).player.width/2-e(h).width/2,s=e(a).player.y+e(a).player.height/2-e(h).height/2;R(a,e(a).camera.x+=(t-e(a).camera.x)*e(a).camera.smoothing),R(a,e(a).camera.y+=(s-e(a).camera.y)*e(a).camera.smoothing),R(a,e(a).camera.x=Math.round(e(a).camera.x)),R(a,e(a).camera.y=Math.round(e(a).camera.y)),R(a,e(a).camera.y=Math.max(e(a).worldBounds.top,Math.min(e(a).worldBounds.bottom-e(h).height,e(a).camera.y))),R(a,e(a).camera.x=Math.max(e(a).worldBounds.left,Math.min(e(a).worldBounds.right-e(h).width,e(a).camera.x)))}function de(t){const s=v()[t];E.drawImage(s.image,0,0,s.width,s.height,e(a).camera.x,e(a).camera.y,e(h).width,e(h).height)}function oe(t){const s=e(a).camera.x,f=e(a).camera.x+e(h).width,p=e(a).camera.y,S=e(a).camera.y+e(h).height;for(let b of e(a).scenery){const De=b.x,Ue=b.x+b.width,He=b.y,ze=b.y+b.height;if(Ue<s||De>f||ze<p||He>S)continue;const Ce=v()[b.image];for(var I=0;I<b.width;I+=b.tileWidthPx)for(var j=0;j<b.height;j+=b.tileHeightPx){const Ne=Math.round(b.x+I),Ye=Math.round(b.y+j),Qe=Ne+b.tileWidthPx,ot=Ye+b.tileHeightPx;Qe<s||Ne>f||ot<p||Ye>S||E.drawImage(Ce.image,0,0,Ce.width,Ce.height,Ne,Ye,b.tileWidthPx,b.tileHeightPx)}}}function z(t){for(let s of e(a).decorations){const f=e(a).prefabs[s.name];for(let p of f.tiles){const S=v()[p.image];E.drawImage(S.image,0,0,64,64,Math.round(s.x+p.x),Math.round(s.y+p.y),64,64)}}}function $(t,s){for(let f of e(a).actors)me(f,!1,!1,!1,!1,!1,s),K(f,s),G(t,f),D(t,f)}function te(t,s){K(e(a).player,s),G(t,e(a).player),D(t,e(a).player)}function le(t,s){let f=[];for(let p of e(a).particles){if(p.animation.frame==0&&p.animation.lastFrameTime!=0){f.push(p);continue}y(t,p)}for(let p of f)R(a,e(a).particles=e(a).particles.filter(S=>S.id!=p.id))}function K(t,s){t.x+=t.velocityX*s,t.y+=t.velocityY*s,t.onGround=!1;const f=t.x+t.collisionBox.x,p=f+t.collisionBox.width,S=f+t.collisionBox.width/2;let I=null;for(let j of e(a).scenery)if(j.type==="TileSlope"){const b=F(j,S);b!==null&&(I===null||b<I)&&(I=b)}else if(p>j.x&&f<j.x+j.width){const b=j.y;(I===null||b<I)&&(I=b)}if(I!==null){const j=I-t.collisionBox.y-t.collisionBox.height;t.y>=j-1&&t.y<=j+32&&(t.y=j,t.velocityY>=0&&(t.velocityY=0,t.onGround=!0))}O(t)}function F(t,s){if(s<t.x-10||s>t.x+t.width+10)return null;const f=s-t.x,p=Math.max(0,Math.min(1,f/t.width));let S;switch(t.slopeDirection){case"UpRight":S=t.y+t.height*(1-p);break;case"UpLeft":S=t.y+t.height*p;break;case"DownRight":S=t.y+t.height*p;break;case"DownLeft":S=t.y+t.height*(1-p);break;default:return null}return S}function O(t){const s=t.x+t.collisionBox.x,f=s+t.collisionBox.width,p=t.y+t.collisionBox.y,S=p+t.collisionBox.height;for(let I of e(a).scenery)if(I.type!=="TileSlope"){const j=I.x,b=I.x+I.width,De=I.y,Ue=I.y+I.height;if(f>j&&s<b&&S>De&&p<Ue){const He=f-j,ze=b-s,Ce=S-De,Ne=Ue-p,Ye=Math.min(He,ze),Qe=Math.min(Ce,Ne);Ye<Qe&&(He<ze?(t.x=j-t.collisionBox.x-t.collisionBox.width,t.velocityX>0&&(t.velocityX=0)):(t.x=b-t.collisionBox.x,t.velocityX<0&&(t.velocityX=0)))}}}function G(t,s){s.velocityX<2&&s.velocityX>-2&&(s.velocityX=0);const f=s.velocityX<=-25,p=s.velocityX>=25,S=!f&&!p;if(S&&(s.animation.direction="Down"),f&&(s.animation.direction="Left"),p&&(s.animation.direction="Right"),s.velocityY!=0){q(s.animation,"Jump");return}if(S){q(s.animation,"Idle");return}if(f){q(s.animation,"Run");return}if(p){q(s.animation,"Run");return}}function q(t,s){t.name!=s&&(t.frame=0,t.name=s)}function y(t,s){const f=v()[`${s.image}${s.animation.name}`];t-s.animation.lastFrameTime>=f.frameTime&&(s.animation.frame=(s.animation.frame+1)%f.totalFrames,s.animation.lastFrameTime=t);const p=s.animation.frame*f.width,S=f.height*ie(s.animation.direction),I=Math.round(s.x),j=Math.round(s.y);E.drawImage(f.image,p,S,f.width,f.height,I,j,f.width,f.height)}function D(t,s){const f=v()[`${s.image}${s.animation.name}`];t-s.animation.lastFrameTime>=f.frameTime&&(s.animation.frame=(s.animation.frame+1)%f.totalFrames,s.animation.lastFrameTime=t);const p=s.animation.frame*f.width,S=f.height*ie(s.animation.direction),I=Math.round(s.x),j=Math.round(s.y);E.drawImage(f.image,p,S,f.width,f.height,I,j,f.width,f.height)}function ie(t){switch(t){case"Up":return 0;case"Left":return 1;case"Down":return 2;default:return 3}}function ue(){return e(a).over?e(a).player.x<1e3?(R(a,e(a).over=!1),!1):!0:e(a).player.x>e(a).worldBounds.right?(R(a,e(a).over=!0),!0):!1}function me(t,s,f,p,S,I,j){let b=0;t.specialCooldownFrames>0&&t.specialCooldownFrames--,t.specialEffectFrames>0&&t.specialEffectFrames--,!I&&(s&&(b=-t.acceleration),f&&(b=t.acceleration),t.velocityX+=b*j,b===0&&(t.velocityX*=Math.pow(t.friction,j)),t.velocityX>t.maxSpeed&&(t.velocityX=t.maxSpeed),t.velocityX<-t.maxSpeed&&(t.velocityX=-t.maxSpeed),p&&t.onGround&&(t.velocityY=-t.jumpPower,t.onGround=!1),t.specialEffectFrames==0&&e(a).player.name!="Shane"&&(t.gravity=950),t.specialCooldownFrames>0&&e(a).player.name!="Shane"&&!t.onGround&&t.specialCooldownFrames%30==0&&e(a).particles.push(at("Regen",t.x,t.y)),S&&t.specialCooldownFrames==0&&(e(a).player.name=="Shane"?(e(a).particles.push(at("Aura",t.x,t.y)),t.velocityX=t.maxSpeed*100*(t.velocityX>=0?1:-1),e(a).particles.push(at("Aura",t.x+t.velocityX*j,t.y))):(e(a).particles.push(at("Regen",t.x,t.y)),t.gravity=20,t.friction=5e-7,t.specialEffectFrames=100),t.specialCooldownFrames=250),t.velocityY+=t.gravity*j,t.velocityY>1500&&(t.velocityY=1500))}function Ke(t){e(A)&&(t.preventDefault(),J(t.code))}function J(t){switch(t){case"KeyW":case"ArrowUp":R(a,e(a).events.jump=!0);break;case"KeyA":case"ArrowLeft":e(a).events.right||R(a,e(a).events.left=!0);break;case"KeyD":case"ArrowRight":e(a).events.left||R(a,e(a).events.right=!0);break;case"KeyS":case"ArrowDown":case"Space":R(a,e(a).events.special=!0);break}}function Ae(t){e(A)&&(t.preventDefault(),ne(t.code))}function ne(t){switch(t){case"KeyA":case"ArrowLeft":R(a,e(a).events.left=!1);break;case"KeyD":case"ArrowRight":R(a,e(a).events.right=!1);break}}function Te(){W(A,!0)}function Je(){W(A,!1),R(a,e(a).events.jump=!1),R(a,e(a).events.left=!1),R(a,e(a).events.right=!1),R(a,e(a).events.special=!1)}vt(()=>e(h),()=>{e(h)&&Q()}),ht(),Ie();var ge=ti();X("resize",Nt,Q);var he=o(ge);Kt(he,{get PositionX(){return e(a).player.x},set PositionX(t){R(a,e(a).player.x=t)},get PositionY(){return e(a).player.y},set PositionY(t){R(a,e(a).player.y=t)},get VelocityX(){return e(a).player.velocityX},set VelocityX(t){R(a,e(a).player.velocityX=t)},get VelocityY(){return e(a).player.velocityY},set VelocityY(t){R(a,e(a).player.velocityY=t)},$$legacy:!0});var Fe=u(he,2),Pe=o(Fe);{var Me=t=>{var s=Jt(),f=o(s,!0);l(s),se(p=>x(f,p),[()=>(i(),g(()=>i()("game.start")))],U),H(t,s)};Ee(Pe,t=>{e(A),e(a),g(()=>!e(A)&&!e(a).over)&&t(Me)})}var pe=u(Pe,2);{var ye=t=>{var s=Qt(),f=o(s),p=u(f),S=o(p);l(p),l(s),se((I,j)=>{x(f,`${I??""} `),x(S,`${j??""} ${e(a),g(()=>e(a).player.name=="Shane"?"Juli":"Shane")??""}`)},[()=>(i(),g(()=>i()("game.complete"))),()=>(i(),g(()=>i()("game.again")))],U),H(t,s)};Ee(pe,t=>{e(a),g(()=>e(a).over)&&t(ye)})}var qe=u(pe,2);{var we=t=>{var s=ei(),f=u(o(s),2);let p;var S=u(f,2),I=o(S,!0);l(S),l(s),se(j=>{p=yt(f,"",p,{width:(e(a),g(()=>100-e(a).player.specialCooldownFrames/250*100+"%"))}),x(I,j)},[()=>(i(),g(()=>i()("game.recharging")))],U),H(t,s)};Ee(qe,t=>{e(a),g(()=>!e(a).over&&e(a).player.specialCooldownFrames>0)&&t(we)})}var ce=u(qe,2);et(ce,t=>W(h,t),()=>e(h)),l(Fe);var be=u(Fe,2),ke=o(be),P=o(ke);let C;var ve=u(P,2);let fe;var xe=u(ve,2);let Ge;l(ke);var We=u(ke,2),Xe=o(We),_e=o(Xe);let Be;l(Xe),l(We),l(be),l(ge),se((t,s,f,p)=>{nt(ce,"width",e(B)),C=$e(P,1,"dpad-button dpad-up svelte-wkwwvj",null,C,t),fe=$e(ve,1,"dpad-button dpad-left svelte-wkwwvj",null,fe,s),Ge=$e(xe,1,"dpad-button dpad-right svelte-wkwwvj",null,Ge,f),Be=$e(_e,1,"action-button svelte-wkwwvj",null,Be,p)},[()=>({active:e(a).events.jump}),()=>({active:e(a).events.left}),()=>({active:e(a).events.right}),()=>({active:e(a).player.specialCooldownFrames==0})],U),X("keydown",ce,Ke),X("keyup",ce,Ae),X("focus",ce,Te),X("blur",ce,Je),X("click",ce,()=>e(h).focus()),X("touchstart",P,()=>J("ArrowUp")),X("touchend",P,()=>ne("ArrowUp")),X("mousedown",P,()=>J("ArrowUp")),X("mouseup",P,()=>ne("ArrowUp")),X("touchstart",ve,()=>J("ArrowLeft")),X("touchend",ve,()=>ne("ArrowLeft")),X("mousedown",ve,()=>J("ArrowLeft")),X("mouseup",ve,()=>ne("ArrowLeft")),X("touchstart",xe,()=>J("ArrowRight")),X("touchend",xe,()=>ne("ArrowRight")),X("mousedown",xe,()=>J("ArrowRight")),X("mouseup",xe,()=>ne("ArrowRight")),X("touchstart",_e,()=>J("Space")),X("touchend",_e,()=>ne("Space")),X("mousedown",_e,()=>J("Space")),X("mouseup",_e,()=>ne("Space")),H(c,ge),Le(),r()}var ai=V('<link href="https://fonts.googleapis.com/css2?family=Yellowtail&amp;display=swap" rel="stylesheet" class="svelte-cqq0gf"/>'),ri=V("<h1> </h1>"),ni=V('<h2 class="neon-text svelte-cqq0gf"> </h2>'),oi=V('<div class="neon-container svelte-cqq0gf"><!></div>');function Oe(c,n){let d=N(n,"text",8,"Neon Text"),r=N(n,"level",8,1),i=N(n,"animate",8,!0);var v=oi();gt(w=>{var h=ai();H(w,h)});var T=o(v);{var _=w=>{var h=ri();let E;var M=o(h,!0);l(h),se(B=>{E=$e(h,1,"neon-text svelte-cqq0gf",null,E,B),x(M,d())},[()=>({animate:i()})],U),H(w,h)},A=w=>{var h=ni(),E=o(h,!0);l(h),se(()=>x(E,d())),H(w,h)};Ee(T,w=>{r()===1?w(_):w(A,!1)})}l(v),H(c,v)}var li=V("<p> </p>"),si=V('<div class="game-container svelte-26dg3x"><div class="hero-image left-two svelte-26dg3x"><img src="/web/tifa-art.png" alt="Art of Tifa sat on her butt looking into the distance"/></div> <div class="hero-image left svelte-26dg3x"><img src="/web/juli-art.png" alt="Art of Juliana sat on her butt looking into the distance"/></div> <div class="hero-image right svelte-26dg3x"><img src="/web/shane-art.png" alt="Art of Shane sat on his butt looking into the distance"/></div> <div class="game-content svelte-26dg3x"><div class="game-title"><!></div> <div class="game-description svelte-26dg3x"> </div> <!> <div class="buttons svelte-26dg3x"><div class="retro-button svelte-26dg3x" id="playAsJuli"><canvas id="juliCanvas" width="48" height="48" class="svelte-26dg3x"></canvas> </div> <div class="retro-button secondary svelte-26dg3x" id="playAsShane"><canvas id="shaneCanvas" width="48" height="48" class="svelte-26dg3x"></canvas> </div></div> <div class="controls-panel svelte-26dg3x"><div class="title svelte-26dg3x"> </div> <div class="control-row svelte-26dg3x"><span class="key svelte-26dg3x">A</span> <span class="key svelte-26dg3x"> </span> <span class="action svelte-26dg3x"> </span></div> <div class="control-row svelte-26dg3x"><span class="key svelte-26dg3x">D</span> <span class="key svelte-26dg3x"> </span> <span class="action svelte-26dg3x"> </span></div> <div class="control-row svelte-26dg3x"><span class="key svelte-26dg3x"> </span> <span class="key svelte-26dg3x">W</span> <span class="action svelte-26dg3x"> </span></div> <div class="control-row svelte-26dg3x"><span class="key svelte-26dg3x"> </span> <span class="key svelte-26dg3x">s</span> <span class="key svelte-26dg3x"> </span> <span class="action svelte-26dg3x"> </span></div></div> <div class="mobile-controls"></div></div></div>');function di(c,n){je(n,!1);const[d,r]=Ze(),i=()=>tt(it,"$_",d);let v=ae(),T=ae(),_,A,w=ae({}),h=ae("Shane"),E=ae(0),M=ae(!1);rt(()=>{_=e(v).getContext("2d"),A=e(T).getContext("2d"),B()});async function B(){W(M,!0);try{let C=await Zt();if(_===null||A===null)throw Error("Unable to start game because one of the button contexts is null");_.imageSmoothingEnabled=!1,A.imageSmoothingEnabled=!1;for(var P=0;P<C.length;P++)R(w,e(w)[C[P].name]=C[P]);_.drawImage(e(w).BrideIdle.image,64,128,64,64,0,0,48,48),A.drawImage(e(w).GroomIdle.image,64,128,64,64,0,0,48,48)}catch(C){console.error("Failed to load images:",C)}W(M,!1)}Ie();var L=si(),k=u(o(L),6),Q=o(k),Y=o(Q);const a=U(()=>(i(),g(()=>i()("game.title"))));Oe(Y,{get text(){return e(a)}}),l(Q);var Z=u(Q,2),re=o(Z);l(Z);var ee=u(Z,2);{var de=P=>{ii(P,{get PlayerName(){return e(h)},set PlayerName(C){W(h,C)},get GameImages(){return e(w)},set GameImages(C){W(w,C)},get PlayerX(){return e(E)},set PlayerX(C){W(E,C)},$$legacy:!0})},oe=P=>{var C=li(),ve=o(C,!0);l(C),se(fe=>x(ve,fe),[()=>(i(),g(()=>i()("game.loading")))],U),H(P,C)};Ee(ee,P=>{e(M)?P(oe,!1):P(de)})}var z=u(ee,2),$=o(z),te=o($);et(te,P=>W(v,P),()=>e(v));var le=u(te);l($);var K=u($,2),F=o(K);et(F,P=>W(T,P),()=>e(T));var O=u(F);l(K),l(z);var G=u(z,2),q=o(G),y=o(q,!0);l(q);var D=u(q,2),ie=u(o(D),2),ue=o(ie,!0);l(ie);var me=u(ie,2),Ke=o(me);l(me),l(D);var J=u(D,2),Ae=u(o(J),2),ne=o(Ae,!0);l(Ae);var Te=u(Ae,2),Je=o(Te);l(Te),l(J);var ge=u(J,2),he=o(ge),Fe=o(he,!0);l(he);var Pe=u(he,4),Me=o(Pe,!0);l(Pe),l(ge);var pe=u(ge,2),ye=o(pe),qe=o(ye,!0);l(ye);var we=u(ye,4),ce=o(we,!0);l(we);var be=u(we,2),ke=o(be,!0);l(be),l(pe),l(G),pt(2),l(k),l(L),se((P,C,ve,fe,xe,Ge,We,Xe,_e,Be,t,s,f,p,S,I)=>{x(re,`${P??""} ${e(h)??""} ${C??""}`),x(le,` ${ve??""} Juli`),x(O,` ${fe??""} Shane`),x(y,xe),x(ue,Ge),x(Ke,`${We??""} ${Xe??""}`),x(ne,_e),x(Je,`${Be??""} ${t??""}`),x(Fe,s),x(Me,f),x(qe,p),x(ce,S),x(ke,I)},[()=>(i(),g(()=>i()("game.description-start"))),()=>(i(),g(()=>i()("game.description-end"))),()=>(i(),g(()=>i()("game.play-as"))),()=>(i(),g(()=>i()("game.play-as"))),()=>(i(),g(()=>i()("game.controls"))),()=>(i(),g(()=>i()("game.left"))),()=>(i(),g(()=>i()("game.move"))),()=>(i(),g(()=>i()("game.left"))),()=>(i(),g(()=>i()("game.right"))),()=>(i(),g(()=>i()("game.move"))),()=>(i(),g(()=>i()("game.right"))),()=>(i(),g(()=>i()("game.up"))),()=>(i(),g(()=>i()("game.jump"))),()=>(i(),g(()=>i()("game.space"))),()=>(i(),g(()=>i()("game.down"))),()=>(i(),g(()=>i()("game.ability")))],U),X("click",$,()=>{W(h,"Juli"),W(E,0)}),X("click",K,()=>{W(h,"Shane"),W(E,0)}),H(c,L),Le(),r()}var vi=V('<div class="container svelte-2x49sb"><canvas class="svelte-2x49sb"></canvas></div>');function ci(c,n){je(n,!1);let d=ae(),r,i,v=0,T=0,_=!0;const A=60;let w,h={},E,M=60,B=1e3/M,L=0;const k=`
    attribute vec2 a_position;
    void main() {
      gl_Position = vec4(a_position, 0.0, 1.0);
    }
  `,Q=`
    precision mediump float; // Use mediump for better performance on mobile
    
    uniform vec2 u_resolution;
    uniform float u_offset;
    
    // Optimized constants
    const float HORIZON_Y = 0.4;
    const float VANISHING_X = 0.5;
    const float LINE_SPACING = 100.0;
    const float VERT_SPACING = 125.0;
    const int MAX_H_LINES = 15; // Reduced from 20
    const int MAX_V_LINES = 20; // Reduced from 30
    
    // Pre-calculated colors to avoid runtime calculations
    const vec3 BG_COLOR = vec3(0.04, 0.04, 0.06);
    const vec3 CYAN = vec3(0.0, 1.0, 1.0);
    const vec3 MAGENTA = vec3(1.0, 0.0, 1.0);
    const vec3 PURPLE = vec3(0.54, 0.17, 0.89);
    const vec3 BLUE = vec3(0.12, 0.56, 1.0);
    
    // Optimized smoothstep for line rendering
    float fastSmoothstep(float edge0, float edge1, float x) {
      float t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
      return t * t * (3.0 - 2.0 * t);
    }
    
    vec3 synthwaveGrid(vec2 uv, vec2 resolution) {
      vec3 color = BG_COLOR;
      
      // Pre-calculate common values
      float invResY = 1.0 / resolution.y;
      float invResX = 1.0 / resolution.x;
      float heightRange = 1.0 - HORIZON_Y;
      
      // Atmosphere gradient (simplified)
      float atmosphereGrad = fastSmoothstep(HORIZON_Y, 1.0, uv.y);
      color += PURPLE * 0.1 * atmosphereGrad + BLUE * 0.025 * atmosphereGrad;
      
      // Horizontal lines (reduced count)
      float totalSpacing = float(MAX_H_LINES) * LINE_SPACING;
      float offsetMod = mod(u_offset, LINE_SPACING);
      
      for (int i = 0; i < MAX_H_LINES; i++) {
        float fi = float(i);
        float baseProgress = (fi * LINE_SPACING + offsetMod) / totalSpacing;
        float y = HORIZON_Y + heightRange * pow(baseProgress, 2.5);
        
        // Early exit if line is outside visible area
        if (y <= HORIZON_Y || y >= 1.0) continue;
        
        float distanceRatio = (y - HORIZON_Y) / heightRange;
        float opacity = pow(distanceRatio, 0.5);
        float lineWidth = (1.0 + distanceRatio * 2.0) * invResY;
        
        float lineDist = abs(uv.y - y);
        float lineIntensity = fastSmoothstep(lineWidth, 0.0, lineDist);
        
        // Skip expensive calculations if line is not visible
        if (lineIntensity > 0.01) {
          color += CYAN * lineIntensity * opacity * 0.8;
          // Simplified glow (removed expensive exp function)
          color += CYAN * lineIntensity * opacity * 0.1;
        }
      }
      
      // Central vertical line (optimized)
      float centralLineDist = abs(uv.x - VANISHING_X);
      float centralLineWidth = 2.0 * invResY;
      float centralIntensity = fastSmoothstep(centralLineWidth, 0.0, centralLineDist);
      
      if (centralIntensity > 0.01 && uv.y >= HORIZON_Y) {
        float lineProgress = (uv.y - HORIZON_Y) / heightRange;
        vec3 lineColor = mix(CYAN, MAGENTA, 1.0 - lineProgress);
        float lineOpacity = mix(0.0, 0.8, lineProgress);
        if (lineProgress > 0.7) lineOpacity *= (1.0 - lineProgress) / 0.3;
        
        color += lineColor * centralIntensity * lineOpacity;
      }
      
      // Vertical/perspective lines (reduced count)
      float vanishingXPixels = VANISHING_X * resolution.x;
      
      for (int i = -MAX_V_LINES; i <= MAX_V_LINES; i++) {
        if (i == 0) continue; // Skip center line (already drawn)
        
        float fi = float(i);
        float baseXPixels = vanishingXPixels + (fi * VERT_SPACING);
        float startXPixels = baseXPixels + (fi * VERT_SPACING * 2.0);
        float endXPixels = vanishingXPixels + (fi * 10.0);
        
        float startX = startXPixels * invResX;
        float endX = endXPixels * invResX;
        
        // Early culling - skip lines completely outside view
        if ((startX < 0.0 && endX < 0.0) || (startX > 1.0 && endX > 1.0)) continue;
        
        // Optimized line equation
        float denom = endX - startX;
        if (abs(denom) < 0.001) continue; // Avoid division by near-zero
        
        float lineSlope = (HORIZON_Y - 1.0) / denom;
        float lineIntercept = 1.0 - lineSlope * startX;
        float lineY = lineSlope * uv.x + lineIntercept;
        float lineDist = abs(uv.y - lineY);
        
        // Bounds check with early exit
        bool withinBounds = (uv.y >= HORIZON_Y && uv.y <= 1.0) &&
                           ((startX < endX && uv.x >= startX && uv.x <= endX) ||
                            (startX > endX && uv.x >= endX && uv.x <= startX));
        
        if (withinBounds) {
          float lineWidth = 2.0 * invResY;
          float lineIntensity = fastSmoothstep(lineWidth, 0.0, lineDist);
          
          if (lineIntensity > 0.01) {
            float lineProgress = (uv.y - HORIZON_Y) / heightRange;
            vec3 lineColor = mix(CYAN, MAGENTA, 1.0 - lineProgress);
            float lineOpacity = mix(0.0, 0.8, lineProgress);
            if (lineProgress > 0.7) lineOpacity *= (1.0 - lineProgress) / 0.3;
            
            color += lineColor * lineIntensity * lineOpacity;
          }
        }
      }
      
      // Simplified horizon glow
      float horizonDist = abs(uv.y - HORIZON_Y);
      float horizonGlow = fastSmoothstep(50.0 * invResY, 0.0, horizonDist);
      color += PURPLE * horizonGlow * 0.3;
      
      // Simplified vignette
      vec2 center = vec2(0.5, 0.5);
      float vignette = 1.0 - fastSmoothstep(0.0, 1.0, length(uv - center));
      color *= mix(0.6, 1.0, vignette);
      
      return color;
    }
    
    void main() {
      vec2 uv = gl_FragCoord.xy / u_resolution;
      uv.y = 1.0 - uv.y;
      vec3 color = synthwaveGrid(uv, u_resolution);
      gl_FragColor = vec4(color, 1.0);
    }
  `;rt(()=>{if(r=e(d).getContext("webgl",{alpha:!1,antialias:!1,depth:!1,stencil:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance"}),!r){console.error("WebGL not supported");return}return r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),oe(),z(),Y(),T=performance.now(),$(),document.addEventListener("visibilitychange",a),window.addEventListener("resize",re),window.visualViewport&&window.visualViewport.addEventListener("resize",z),()=>{document.removeEventListener("visibilitychange",a),window.removeEventListener("resize",re),window.visualViewport&&window.visualViewport.removeEventListener("resize",z),cancelAnimationFrame(i)}});function Y(){const O=document.createElement("canvas").getContext("2d"),G=performance.now();for(let y=0;y<1e3;y++)O.fillRect(y%100,y%100,10,10);performance.now()-G>50&&(M=30),B=1e3/M}function a(){_=!document.hidden,_&&!i&&(T=performance.now(),$())}let Z;function re(){clearTimeout(Z),Z=setTimeout(z,100)}function ee(F,O){const G=r.createShader(F);return r.shaderSource(G,O),r.compileShader(G),r.getShaderParameter(G,r.COMPILE_STATUS)?G:(console.error("Shader compilation error:",r.getShaderInfoLog(G)),r.deleteShader(G),null)}function de(F,O){const G=r.createProgram();return r.attachShader(G,F),r.attachShader(G,O),r.linkProgram(G),r.getProgramParameter(G,r.LINK_STATUS)?G:(console.error("Program linking error:",r.getProgramInfoLog(G)),r.deleteProgram(G),null)}function oe(){const F=ee(r.VERTEX_SHADER,k),O=ee(r.FRAGMENT_SHADER,Q);if(!F||!O){console.error("Failed to create shaders");return}if(w=de(F,O),!w){console.error("Failed to create WebGL program");return}r.useProgram(w),h.resolution=r.getUniformLocation(w,"u_resolution"),h.offset=r.getUniformLocation(w,"u_offset");const G=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);E=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,E),r.bufferData(r.ARRAY_BUFFER,G,r.STATIC_DRAW);const q=r.getAttribLocation(w,"a_position");r.enableVertexAttribArray(q),r.vertexAttribPointer(q,2,r.FLOAT,!1,0,0)}function z(){if(!e(d)||!r)return;const F=window.devicePixelRatio||1,G=Math.min(F,2);let q=document.querySelector(".welcome");if(!q)return;let y=q.clientWidth,D=q.clientHeight;R(d,e(d).width=y*G),R(d,e(d).height=D*G),R(d,e(d).style.width=y+"px"),R(d,e(d).style.height=D+"px"),r.viewport(0,0,e(d).width,e(d).height)}function $(F=performance.now()){if(!_){i=null;return}const O=F-L;if(O<B){i=requestAnimationFrame($);return}L=F-O%B;const G=(F-T)/1e3;T=F,v+=A*G,te(),i=requestAnimationFrame($)}function te(){!w||!r||(r.uniform2f(h.resolution,e(d).width,e(d).height),r.uniform1f(h.offset,v),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLES,0,6))}Ie();var le=vi(),K=o(le);et(K,F=>W(d,F),()=>e(d)),l(le),H(c,le),Le()}var mi=V('<div class="wrapper svelte-1j0msly"><h1 class="glitch svelte-1j0msly" style="--element-width: 1000px"> </h1></div>');function fi(c,n){let d=N(n,"text",8,"Glitch");var r=mi(),i=o(r),v=o(i,!0);l(i),l(r),se(()=>{nt(i,"data-text",d()),x(v,d())}),H(c,r)}var ui=V('<a><span class="svelte-1y80bin"> </span></a>');function gi(c,n){let d=N(n,"text",8),r=N(n,"href",8),i=ae(!1);var v=ui();let T;var _=o(v),A=o(_,!0);l(_),l(v),se(w=>{T=$e(v,1,"holo-btn svelte-1y80bin",null,T,w),nt(v,"href",r()),x(A,d())},[()=>({hovered:e(i)})],U),X("mouseenter",v,()=>W(i,!0)),X("mouseleave",v,()=>W(i,!1)),H(c,v)}var hi=V('<div class="welcome svelte-1lrv73d"><!> <div class="contents svelte-1lrv73d"><div class="introduction svelte-1lrv73d"><div class="item svelte-1lrv73d"><!></div> <div class="item svelte-1lrv73d"><!></div> <div class="glitch svelte-1lrv73d"><!></div></div> <div class="details-container svelte-1lrv73d"><div class="details"> </div></div> <div class="specifics svelte-1lrv73d"><div class="specific svelte-1lrv73d"><div class="title svelte-1lrv73d"> </div> <div class="context svelte-1lrv73d"> </div></div> <div class="specific svelte-1lrv73d"><div class="title svelte-1lrv73d">Brickhouse social</div> <div class="context svelte-1lrv73d">11 New Wakefield St, M1 5NP</div></div></div> <div class="cta svelte-1lrv73d"><!></div></div></div>');function pi(c,n){je(n,!1);const[d,r]=Ze(),i=()=>tt(it,"$_",d);Ie();var v=hi(),T=o(v);ci(T,{});var _=u(T,2),A=o(_),w=o(A),h=o(w);const E=U(()=>(i(),g(()=>i()("welcome.were-getting-married"))));Oe(h,{get text(){return e(E)}}),l(w);var M=u(w,2),B=o(M);const L=U(()=>(i(),g(()=>i()("welcome.and-youre-invited"))));Oe(B,{get text(){return e(L)}}),l(M);var k=u(M,2),Q=o(k);fi(Q,{text:"Shane & Juliana"}),l(k),l(A);var Y=u(A,2),a=o(Y),Z=o(a,!0);l(a),l(Y);var re=u(Y,2),ee=o(re),de=o(ee),oe=o(de);l(de);var z=u(de,2),$=o(z);l(z),l(ee),pt(2),l(re);var te=u(re,2),le=o(te);const K=U(()=>(i(),g(()=>i()("welcome.cta-text")))),F=U(()=>(i(),g(()=>i()("welcome.cta-link")))),O=U(()=>(i(),g(()=>i()("welcome.cta-padding"))));gi(le,{get text(){return e(K)},get href(){return e(F)},get padding(){return e(O)}}),l(te),l(_),l(v),se((G,q,y)=>{x(Z,G),x(oe,`31 ${q??""} 2026`),x($,`${y??""} 18:00`)},[()=>(i(),g(()=>i()("welcome.dancing-shoes"))),()=>(i(),g(()=>i()("welcome.january"))),()=>(i(),g(()=>i()("welcome.doors-open")))],U),H(c,v),Le(),r()}var yi=V('<div class="error-message svelte-2wgxf0"><p class="svelte-2wgxf0">Google Maps API key is required</p></div>'),wi=V('<div class="loading-message svelte-2wgxf0"><p class="svelte-2wgxf0">Loading map...</p></div>'),xi=V('<div class="google-map svelte-2wgxf0"><!></div>');function ut(c,n){je(n,!1);let d=N(n,"apiKey",8,"AIzaSyAg-JnddkifD5VUJMcc6_gyIPlYY88aLL0"),r=N(n,"centerLat",12,53.4734624),i=N(n,"centerLng",28,()=>-2.2413626),v=N(n,"zoom",12,16),T=N(n,"width",8,"100%"),_=N(n,"height",8,"400px"),A=N(n,"mapStyles",24,()=>[{featureType:"all",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#ff709d"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#130e22"}]},{featureType:"landscape",elementType:"geometry.stroke",stylers:[{color:"#130e22"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#130e22"}]},{featureType:"poi",elementType:"geometry",stylers:[{lightness:21}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#130e22"}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{color:"#130e22"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"},{color:"#156465"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#156465"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#156465"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#156465"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#156465"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#156465"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#156465"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#156465"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"all",stylers:[{color:"#2b3638"},{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2b3638"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#24282b"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{color:"#24282b"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.icon",stylers:[{visibility:"off"}]}]),w=N(n,"markers",28,()=>[{lat:53.473635,lng:-2.241423,title:"Brickhouse Social"}]),h=N(n,"disableDefaultUI",8,!1),E=N(n,"gestureHandling",8,"auto"),M=N(n,"mapTypeId",8,"roadmap"),B=ae(),L=ae(),k=ae(),Q=[],Y,a=ae(!1);async function Z(){if(window.google&&window.google.maps){W(k,window.google);return}return new Promise((y,D)=>{W(k,window.google),y()})}async function re(){if(!e(k)||!e(B)||e(a))return;const y={center:{lat:r(),lng:i()},zoom:v(),styles:A(),disableDefaultUI:h(),gestureHandling:E(),mapTypeId:M()};W(L,new(e(k)).maps.Map(e(B),y)),W(a,!0),ee()}function ee(){!e(L)||!e(k)||(Q.forEach(y=>y.setMap(null)),Q=[],w().forEach(y=>{const D=new(e(k)).maps.Marker({position:{lat:y.lat,lng:y.lng},map:e(L),title:y.title||"",icon:y.icon||null});if(y.title){const ie=new(e(k)).maps.InfoWindow({content:y.title});D.addListener("click",()=>{ie.open(e(L),D)})}Q.push(D)}))}function de(){e(B)&&(Y=new IntersectionObserver(y=>{y.forEach(async D=>{if(D.isIntersecting&&!e(a)){try{await Z(),await re()}catch(ie){console.error("Error loading Google Maps:",ie)}Y.unobserve(e(B))}})},{threshold:.1,rootMargin:"50px"}),Y.observe(e(B)))}rt(()=>{de()}),Ot(()=>{Y&&Y.disconnect()});function oe(){return e(L)}function z(y){r(y.lat),i(y.lng),e(L)&&e(L).setCenter(y)}function $(y){v(y),e(L)&&e(L).setZoom(v())}function te(y){w([...w(),y])}function le(){w([])}async function K(){if(!e(a))try{await Z(),await re()}catch(y){console.error("Error force-loading Google Maps:",y)}}vt(()=>(e(L),e(k),e(a),Re(r()),Re(i()),Re(v()),Re(A()),Re(h()),Re(E()),Re(M())),()=>{e(L)&&e(k)&&e(a)&&(e(L).setCenter({lat:r(),lng:i()}),e(L).setZoom(v()),e(L).setOptions({styles:A(),disableDefaultUI:h(),gestureHandling:E(),mapTypeId:M()}))}),vt(()=>(e(L),Re(w()),e(a)),()=>{e(L)&&w()&&e(a)&&ee()}),ht(),Ie();var F=xi(),O=o(F);{var G=y=>{var D=yi();H(y,D)},q=(y,D)=>{{var ie=ue=>{var me=wi();H(ue,me)};Ee(y,ue=>{e(a)||ue(ie)},D)}};Ee(O,y=>{d()?y(q,!1):y(G)})}return l(F),et(F,y=>W(B,y),()=>e(B)),se(()=>yt(F,`width: ${T()??""}; height: ${_()??""};`)),H(c,F),Ve(n,"getMap",oe),Ve(n,"setCenter",z),Ve(n,"setZoom",$),Ve(n,"addMarker",te),Ve(n,"clearMarkers",le),Ve(n,"forceInit",K),Le({getMap:oe,setCenter:z,setZoom:$,addMarker:te,clearMarkers:le,forceInit:K})}var _i=V('<div class="instructions svelte-1qjliwj"><div class="logo svelte-1qjliwj"><div class="top svelte-1qjliwj"><!></div> <div class="bottom svelte-1qjliwj"><!></div></div> <div class="items svelte-1qjliwj"><div class="item svelte-1qjliwj"><div class="title svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div></div> <div class="item svelte-1qjliwj"><div class="title svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div></div> <div class="item svelte-1qjliwj"><div class="title svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div></div></div> <div class="map svelte-1qjliwj"><!></div> <div class="logo svelte-1qjliwj"><div class="top svelte-1qjliwj"><!></div> <div class="bottom svelte-1qjliwj"><!></div></div> <div class="items svelte-1qjliwj"><div class="item svelte-1qjliwj"><div class="title svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div></div> <div class="item svelte-1qjliwj"><div class="title svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div></div> <div class="item svelte-1qjliwj"><div class="title svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div> <div class="value svelte-1qjliwj"> </div></div></div> <div class="map svelte-1qjliwj"><!></div></div>');function Si(c,n){je(n,!1);const[d,r]=Ze(),i=()=>tt(it,"$_",d);Ie();var v=_i(),T=o(v),_=o(T),A=o(_);const w=U(()=>(i(),g(()=>i()("instructions.logo.the"))));Oe(A,{get text(){return e(w)}}),l(_);var h=u(_,2),E=o(h);const M=U(()=>(i(),g(()=>i()("instructions.logo.ceremony"))));Oe(E,{get text(){return e(M)}}),l(h),l(T);var B=u(T,2),L=o(B),k=o(L),Q=o(k,!0);l(k);var Y=u(k,2),a=o(Y,!0);l(Y);var Z=u(Y,2),re=o(Z,!0);l(Z);var ee=u(Z,2),de=o(ee,!0);l(ee),l(L);var oe=u(L,2),z=o(oe),$=o(z,!0);l(z);var te=u(z,2),le=o(te,!0);l(te);var K=u(te,2),F=o(K,!0);l(K);var O=u(K,2),G=o(O,!0);l(O),l(oe);var q=u(oe,2),y=o(q),D=o(y,!0);l(y);var ie=u(y,2),ue=o(ie,!0);l(ie);var me=u(ie,2),Ke=o(me,!0);l(me),l(q),l(B);var J=u(B,2),Ae=o(J);ut(Ae,{centerLat:53.4791626,centerLng:-2.2465828,markers:[{lat:53.4791626,lng:-2.2465828,title:"Manchester Registry Office"}]}),l(J);var ne=u(J,2),Te=o(ne),Je=o(Te);const ge=U(()=>(i(),g(()=>i()("instructions.logo.the"))));Oe(Je,{get text(){return e(ge)}}),l(Te);var he=u(Te,2),Fe=o(he);const Pe=U(()=>(i(),g(()=>i()("instructions.logo.party"))));Oe(Fe,{get text(){return e(Pe)}}),l(he),l(ne);var Me=u(ne,2),pe=o(Me),ye=o(pe),qe=o(ye,!0);l(ye);var we=u(ye,2),ce=o(we,!0);l(we);var be=u(we,2),ke=o(be,!0);l(be),l(pe);var P=u(pe,2),C=o(P),ve=o(C,!0);l(C);var fe=u(C,2),xe=o(fe,!0);l(fe);var Ge=u(fe,2),We=o(Ge,!0);l(Ge);var Xe=u(Ge,2),_e=o(Xe,!0);l(Xe),l(P);var Be=u(P,2),t=o(Be),s=o(t,!0);l(t);var f=u(t,2),p=o(f,!0);l(f);var S=u(f,2),I=o(S,!0);l(S),l(Be),l(Me);var j=u(Me,2),b=o(j);ut(b,{}),l(j),l(v),se((De,Ue,He,ze,Ce,Ne,Ye,Qe,ot,wt,xt,_t,St,Tt,bt,Gt,Rt,Et,It,jt,Lt)=>{x(Q,De),x(a,Ue),x(re,He),x(de,ze),x($,Ce),x(le,Ne),x(F,Ye),x(G,Qe),x(D,ot),x(ue,wt),x(Ke,xt),x(qe,_t),x(ce,St),x(ke,Tt),x(ve,bt),x(xe,Gt),x(We,Rt),x(_e,Et),x(s,It),x(p,jt),x(I,Lt)},[()=>(i(),g(()=>i()("instructions.ceremony.schedule"))),()=>(i(),g(()=>i()("instructions.ceremony.schedule-info-location"))),()=>(i(),g(()=>i()("instructions.ceremony.schedule-info-start"))),()=>(i(),g(()=>i()("instructions.ceremony.schedule-info-end"))),()=>(i(),g(()=>i()("instructions.ceremony.what-to-expect"))),()=>(i(),g(()=>i()("instructions.ceremony.what-to-expect-info-room"))),()=>(i(),g(()=>i()("instructions.ceremony.what-to-expect-info-dress"))),()=>(i(),g(()=>i()("instructions.ceremony.what-to-expect-info-gifts"))),()=>(i(),g(()=>i()("instructions.ceremony.after-the-ceremony"))),()=>(i(),g(()=>i()("instructions.ceremony.after-the-ceremony-info-location"))),()=>(i(),g(()=>i()("instructions.ceremony.after-the-ceremony-info-finding-it"))),()=>(i(),g(()=>i()("instructions.party.schedule"))),()=>(i(),g(()=>i()("instructions.party.schedule-info-start"))),()=>(i(),g(()=>i()("instructions.party.schedule-info-end"))),()=>(i(),g(()=>i()("instructions.party.what-to-expect"))),()=>(i(),g(()=>i()("instructions.party.what-to-expect-info-drinks"))),()=>(i(),g(()=>i()("instructions.party.what-to-expect-info-food"))),()=>(i(),g(()=>i()("instructions.party.what-to-expect-info-vibe"))),()=>(i(),g(()=>i()("instructions.party.getting-there"))),()=>(i(),g(()=>i()("instructions.party.getting-there-info-location"))),()=>(i(),g(()=>i()("instructions.party.getting-there-info-finding-it")))],U),H(c,v),Le(),r()}var Ti=V('<meta name="description"/>'),bi=V("<section><!> <!> <!></section>");function Pi(c,n){je(n,!1);const[d,r]=Ze(),i=()=>tt(it,"$_",d);Ie();var v=bi();gt(w=>{var h=Ti();se((E,M)=>{Yt.title=E,nt(h,"content",M)},[()=>(i(),g(()=>i()("head.title"))),()=>(i(),g(()=>i()("head.title")))],U),H(w,h)});var T=o(v);pi(T,{});var _=u(T,2);Si(_,{});var A=u(_,2);di(A,{}),l(v),H(c,v),Le(),r()}export{Pi as component,Fi as universal};
