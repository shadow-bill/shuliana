import{d as vt,a as U,f as z,g as k}from"../chunks/B3AFvwzc.js";import{i as Te}from"../chunks/D304sJX_.js";import{t as et,at as mt,au as ft,av as ut,aw as ht,g as gt,G as pt,X as Se,Y as yt,_ as Ie,b as e,m as ne,ax as P,ay as tt,az as st,aA as wt,$ as l,a1 as h,f as H,a0 as c,Z as de,a as oe,u as y,aB as lt,V as be,aC as xt}from"../chunks/GQ-HTczo.js";import{s as _,a as ct}from"../chunks/BrOt3TFE.js";import{i as Ye,a as Oe,s as Ve}from"../chunks/D4PT39py.js";import{o as qe,a as _t}from"../chunks/BG0gjDxm.js";import{p as O,b as ze}from"../chunks/DMikkTqn.js";import{t as bt,s as Ne,b as $e}from"../chunks/DD9NDLYY.js";function Tt(v,n,s,r){var i=v.__style;if(et||i!==n){var d=bt(n);(!et||d!==v.getAttribute("style"))&&(d==null?v.removeAttribute("style"):v.style.cssText=d),v.__style=n}return r}const St=Symbol("is custom element"),It=Symbol("is html");function Ke(v,n,s,r){var i=Rt(v);et&&(i[n]=v.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&v.nodeName==="LINK")||i[n]!==(i[n]=s)&&(n==="loading"&&(v[ht]=s),s==null?v.removeAttribute(n):typeof s!="string"&&At(v).includes(n)?v[n]=s:v.setAttribute(n,s))}function Rt(v){return v.__attributes??(v.__attributes={[St]:v.nodeName.includes("-"),[It]:v.namespaceURI===mt})}var it=new Map;function At(v){var n=it.get(v.nodeName);if(n)return n;it.set(v.nodeName,n=[]);for(var s,r=v,i=Element.prototype;i!==r;){s=ut(r);for(var d in s)s[d].set&&n.push(d);r=ft(r)}return n}function Ce(v,n,s){var r=gt(v,n);r&&r.set&&(v[n]=s,pt(()=>{v[n]=null}))}const Pt=!0,mi=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pt},Symbol.toStringTag,{value:"Module"}));function at(v,n,s,r,i){return new Promise((d,T)=>{const w=new Image;w.onload=()=>d({name:v,image:w,width:n,height:s,totalFrames:r,frameTime:i}),w.onerror=()=>T,w.src=`/game/${v}.png`})}function Lt(v,n,s){return new Promise((r,i)=>{try{const d=document.createElement("canvas"),T=d.getContext("2d");if(!T){i(new Error("Could not get canvas context"));return}d.width=64,d.height=64,T.drawImage(n,s.x,s.y,64,64,0,0,64,64);const w=new Image;w.onload=()=>{r({name:`${v}${s.name}`,image:w,width:64,height:64,totalFrames:1,frameTime:0})},w.onerror=()=>i(new Error(`Failed to create extracted sprite: ${s.name}`)),w.src=d.toDataURL("image/png")}catch(d){i(d)}})}function Ft(v){return new Promise((n,s)=>{const r=new Image;r.onload=async()=>{try{const i=await Promise.all(v.regions.map(d=>Lt(v.name,r,d)));n(i)}catch(i){s(i)}},r.onerror=()=>s(new Error(`Failed to load spritesheet: ${v.name}`)),r.src=`/game/${v.name}.png`})}async function Et(){let v=[{name:"BackgroundSunset",width:957,height:540,totalFrames:1,frameTime:0},{name:"GroundFlat",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundFlatEndLeft",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundFlatEndRight",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilEndLeft",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilEndRight",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSlopeUp",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilSlopeUp",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoil",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSlopeDown",width:128,height:128,totalFrames:1,frameTime:0},{name:"GroundSoilSlopeDown",width:128,height:128,totalFrames:1,frameTime:0},{name:"Bridge",width:256,height:128,totalFrames:1,frameTime:0},{name:"BrickWallLeft",width:128,height:320,totalFrames:1,frameTime:0},{name:"BrickWall",width:320,height:320,totalFrames:1,frameTime:0},{name:"BrickWallRight",width:128,height:320,totalFrames:1,frameTime:0},{name:"Door",width:64,height:128,totalFrames:1,frameTime:0},{name:"Barrel",width:64,height:64,totalFrames:1,frameTime:0},{name:"GroomIdle",width:64,height:64,totalFrames:2,frameTime:.25},{name:"GroomRun",width:64,height:64,totalFrames:8,frameTime:.125},{name:"GroomJump",width:64,height:64,totalFrames:5,frameTime:.1},{name:"BrideIdle",width:64,height:64,totalFrames:2,frameTime:.25},{name:"BrideRun",width:64,height:64,totalFrames:8,frameTime:.125},{name:"BrideJump",width:64,height:64,totalFrames:5,frameTime:.1},{name:"TifaRun",width:64,height:64,totalFrames:8,frameTime:.2},{name:"TifaIdle",width:64,height:64,totalFrames:4,frameTime:.25},{name:"TifaAttack",width:64,height:64,totalFrames:6,frameTime:.16666666666666666},{name:"TifaJump",width:64,height:64,totalFrames:6,frameTime:.16666666666666666},{name:"AuraIdle",width:64,height:64,totalFrames:7,frameTime:.07142857142857142},{name:"RegenIdle",width:64,height:64,totalFrames:8,frameTime:.0625}],n=[{name:"WoodWall",regions:[{name:"TopLeft",x:0,y:0},{name:"TopMiddleLeft",x:64,y:0},{name:"TopMiddleRight",x:128,y:0},{name:"TopRight",x:192,y:0},{name:"MiddleLeft",x:0,y:64},{name:"MiddleMiddleLeft",x:64,y:64},{name:"MiddleMiddleRight",x:128,y:64},{name:"MiddleRight",x:192,y:64},{name:"BottomLeft",x:0,y:128},{name:"BottomMiddleLeft",x:64,y:128},{name:"BottomMiddleRight",x:128,y:128},{name:"BottomRight",x:192,y:128}]},{name:"Door",regions:[{name:"Top",x:0,y:0},{name:"Bottom",x:0,y:64}]}];try{const s=await Promise.all(v.map(d=>at(d.name,d.width,d.height,d.totalFrames,d.frameTime))),i=(await Promise.all(n.map(d=>Ft(d)))).flat();return[...s,...i]}catch(s){throw console.error("Error loading sprites:",s),s}return Promise.all(v.map(s=>at(s.name,s.width,s.height,s.totalFrames,s.frameTime)))}function Gt(v,n){Se(n,!1);const[s,r]=Oe();O(n,"PositionX",8),O(n,"PositionY",8),O(n,"VelocityX",8),O(n,"VelocityY",8),Te();var i=vt(),d=yt(i);Ye(d,T=>{}),U(v,i),Ie(),r()}function b(v,n,s,r,i,d=null){return{type:`Tile${d!==null&&d!=="None"?"Slope":"Rectangle"}`,x:n*64,y:s*64,width:r*64,height:i*64,image:v,tileWidthPx:64,tileHeightPx:64,slopeDirection:d===null?"None":d,collision:!0}}function Qe(v,n,s){return{name:v,x:n*64,y:s*64}}function rt(v="",n="",s="Idle",r=0,i=0,d=0,T=0,w="Up",S=10){return{type:"Actor",name:v,image:n,animation:{name:s,frame:0,lastFrameTime:0,direction:w},x:r,y:i,velocityX:d,velocityY:T,collisionBox:{x:16,y:0,width:32,height:64},onGround:!1,maxSpeed:300,acceleration:900,friction:.005,jumpPower:370,gravity:950,health:S,specialCooldownFrames:0,specialEffectFrames:0,width:64,height:64}}function je(v,n=0,s=0){return{id:(Math.random().toString(36)+"00000000000000000").slice(2,12),type:"Particle",name:v,image:v,animation:{name:"Idle",frame:0,lastFrameTime:0,direction:"Up"},x:n,y:s,width:64,height:64}}function Ze(v,n,s){return{x:v,respawnX:n,respawnY:s}}var Mt=z('<div class="start svelte-gou7br"> </div>'),Xt=z('<div class="container svelte-gou7br"><!> <div class="canvas-container svelte-gou7br"><!> <canvas class="game-canvas svelte-gou7br" height="320px" tabindex="0"></canvas></div> <div class="mobile-controls svelte-gou7br"><div class="dpad svelte-gou7br"><div>↑</div> <div>←</div> <div>→</div></div> <div class="action-buttons svelte-gou7br"><div class="action-row svelte-gou7br"><div>X</div></div></div></div></div>');function kt(v,n){Se(n,!1);const[s,r]=Oe(),i=()=>Ve($e,"$_",s);let d=O(n,"GameImages",24,()=>({})),T=O(n,"PlayerName",8),w=ne(),S,f=ne(),p,X=0,C=ne(640),B=!1,I=null;function N(){if(e(f).parentElement==null)return;const t=e(f).parentElement.getBoundingClientRect();H(C,t.width),P(f,e(f).width=e(C))}let te=rt("Shane","Groom","Idle");Object.defineProperty(te,"name",{get(){return T()},enumerable:!0,configurable:!0}),Object.defineProperty(te,"image",{get(){return T()==="Shane"?"Groom":"Bride"},enumerable:!0,configurable:!0});let a=ne({camera:{x:0,y:0,smoothing:.1},worldBounds:{top:-400,bottom:400},prefabs:{House:{tiles:[b("WoodWallTopLeft",0,0,1,1),b("WoodWallTopMiddleLeft",1,0,1,1),b("WoodWallTopMiddleRight",2,0,1,1),b("WoodWallTopRight",3,0,1,1),b("WoodWallMiddleLeft",0,1,1,1),b("WoodWallMiddleMiddleLeft",1,1,1,1),b("WoodWallMiddleMiddleRight",2,1,1,1),b("WoodWallMiddleRight",3,1,1,1),b("WoodWallBottomLeft",0,2,1,1),b("WoodWallBottomMiddleLeft",1,2,1,1),b("WoodWallBottomMiddleRight",2,2,1,1),b("WoodWallBottomRight",3,2,1,1),b("DoorTop",2,1,1,1),b("DoorBottom",2,2,1,1)]},Barrel:{tiles:[b("Barrel",0,0,1,1)]}},scenery:[b("GroundFlatEndLeft",-1,4,1,1),b("GroundSoilEndLeft",-1,5,1,2),b("GroundSoil",0,5,15,2),b("GroundFlat",0,4,6,1),b("GroundSoilSlopeUp",6,4,1,1),b("GroundSoil",7,4,2,1),b("GroundSlopeUp",6,3,1,1,"UpRight"),b("GroundFlat",7,3,2,1),b("GroundSlopeDown",9,3,1,1,"DownRight"),b("GroundSoilSlopeDown",9,4,1,1,"DownRight"),b("GroundFlat",10,4,5,1),b("GroundFlatEndRight",15,4,1,1),b("GroundSoilEndRight",15,5,1,2),b("GroundFlatEndLeft",17,4,1,1),b("GroundSoilEndLeft",17,5,1,2),b("GroundFlatEndRight",18,4,1,1),b("GroundSoilEndRight",18,5,1,2),b("GroundFlatEndLeft",21,4,1,1),b("GroundSoilEndLeft",21,5,1,2),b("Bridge",22,4,1,1),b("GroundFlat",23,4,7,1),b("GroundSoil",23,5,7,2)],decorations:[Qe("House",2,1),Qe("Barrel",1,3),Qe("House",26,1)],actors:[rt("Tifa","Tifa","Idle",128,192)],particles:[],player:te,checkpoints:[Ze(1350,1350,0),Ze(1100,1120,0),Ze(940,940,0),Ze(-1e6,0,0)],background:"BackgroundSunset",events:{jump:!1,right:!1,left:!1,special:!1}});qe(()=>{let t=e(f).getContext("2d");if(t===null)throw Error("Unable to load 2d context");p=t,I=new IntersectionObserver(m=>{m.forEach(g=>{B=g.isIntersecting,B&&!S&&(X=0,S=requestAnimationFrame(A=>o(A/1e3)))})},{threshold:.1,rootMargin:"50px 0px"}),e(f).parentElement&&I.observe(e(f).parentElement);function o(m){if(p===null)return;if(!B){S=0;return}const g=X===0?0:m-X;X=m,p.clearRect(0,0,e(f).width,e(f).height),Y(),V(g),Z(),p.save(),p.translate(-e(a).camera.x,-e(a).camera.y),ie("BackgroundSunset"),$(),se(),q(m,g),K(m,g),J(m),p.restore(),S=requestAnimationFrame(A=>o(A/1e3))}return S=requestAnimationFrame(m=>o(m/1e3)),()=>{S&&cancelAnimationFrame(S),I&&I.disconnect()}});function Y(){if(!(e(a).player.y<=512)){for(let t of e(a).checkpoints)if(e(a).player.x>t.x){P(a,e(a).player.x=t.respawnX),P(a,e(a).player.y=t.respawnY),P(a,e(a).player.velocityX=0),P(a,e(a).player.velocityY=0);return}}}function V(t){ce(e(a).player,e(a).events.left,e(a).events.right,e(a).events.jump,e(a).events.special,t),P(a,e(a).events.jump=!1),P(a,e(a).events.special=!1)}function Z(){const t=e(a).player.x+e(a).player.width/2-e(f).width/2,o=e(a).player.y+e(a).player.height/2-e(f).height/2;P(a,e(a).camera.x+=(t-e(a).camera.x)*e(a).camera.smoothing),P(a,e(a).camera.y+=(o-e(a).camera.y)*e(a).camera.smoothing),P(a,e(a).camera.x=Math.round(e(a).camera.x)),P(a,e(a).camera.y=Math.round(e(a).camera.y)),P(a,e(a).camera.y=Math.max(e(a).worldBounds.top,Math.min(e(a).worldBounds.bottom-e(f).height,e(a).camera.y)))}function ie(t){const o=d()[t];p.drawImage(o.image,0,0,o.width,o.height,e(a).camera.x,e(a).camera.y,e(f).width,e(f).height)}function $(t){const o=e(a).camera.x,m=e(a).camera.x+e(f).width,g=e(a).camera.y,A=e(a).camera.y+e(f).height;for(let F of e(a).scenery){const Me=F.x,Xe=F.x+F.width,ke=F.y,Be=F.y+F.height;if(Xe<o||Me>m||Be<g||ke>A)continue;const De=d()[F.image];for(var L=0;L<F.width;L+=F.tileWidthPx)for(var E=0;E<F.height;E+=F.tileHeightPx){const He=Math.round(F.x+L),Ue=Math.round(F.y+E),Je=He+F.tileWidthPx,dt=Ue+F.tileHeightPx;Je<o||He>m||dt<g||Ue>A||p.drawImage(De.image,0,0,De.width,De.height,He,Ue,F.tileWidthPx,F.tileHeightPx)}}}function se(t){for(let o of e(a).decorations){const m=e(a).prefabs[o.name];for(let g of m.tiles){const A=d()[g.image];p.drawImage(A.image,0,0,64,64,Math.round(o.x+g.x),Math.round(o.y+g.y),64,64)}}}function q(t,o){for(let m of e(a).actors)ce(m,!1,!1,!1,!1,o),ae(m,o),G(t,m),u(t,m)}function K(t,o){ae(e(a).player,o),G(t,e(a).player),u(t,e(a).player)}function J(t,o){let m=[];for(let g of e(a).particles){if(g.animation.frame==0&&g.animation.lastFrameTime!=0){m.push(g);continue}ee(t,g)}for(let g of m)P(a,e(a).particles=e(a).particles.filter(A=>A.id!=g.id))}function ae(t,o){t.x+=t.velocityX*o,t.y+=t.velocityY*o,t.onGround=!1;const m=t.x+t.collisionBox.x,g=m+t.collisionBox.width,A=m+t.collisionBox.width/2;let L=null;for(let E of e(a).scenery)if(E.type==="TileSlope"){const F=Q(E,A);F!==null&&(L===null||F<L)&&(L=F)}else if(g>E.x&&m<E.x+E.width){const F=E.y;(L===null||F<L)&&(L=F)}if(L!==null){const E=L-t.collisionBox.y-t.collisionBox.height;t.y>=E-1&&t.y<=E+32&&(t.y=E,t.velocityY>=0&&(t.velocityY=0,t.onGround=!0))}R(t)}function Q(t,o){if(o<t.x-10||o>t.x+t.width+10)return null;const m=o-t.x,g=Math.max(0,Math.min(1,m/t.width));let A;switch(t.slopeDirection){case"UpRight":A=t.y+t.height*(1-g);break;case"UpLeft":A=t.y+t.height*g;break;case"DownRight":A=t.y+t.height*g;break;case"DownLeft":A=t.y+t.height*(1-g);break;default:return null}return A}function R(t){const o=t.x+t.collisionBox.x,m=o+t.collisionBox.width,g=t.y+t.collisionBox.y,A=g+t.collisionBox.height;for(let L of e(a).scenery)if(L.type!=="TileSlope"){const E=L.x,F=L.x+L.width,Me=L.y,Xe=L.y+L.height;if(m>E&&o<F&&A>Me&&g<Xe){const ke=m-E,Be=F-o,De=A-Me,He=Xe-g,Ue=Math.min(ke,Be),Je=Math.min(De,He);Ue<Je&&(ke<Be?(t.x=E-t.collisionBox.x-t.collisionBox.width,t.velocityX>0&&(t.velocityX=0)):(t.x=F-t.collisionBox.x,t.velocityX<0&&(t.velocityX=0)))}}}function G(t,o){o.velocityX<2&&o.velocityX>-2&&(o.velocityX=0);const m=o.velocityX<=-25,g=o.velocityX>=25,A=!m&&!g;if(A&&(o.animation.direction="Down"),m&&(o.animation.direction="Left"),g&&(o.animation.direction="Right"),o.velocityY!=0){x(o.animation,"Jump");return}if(A){x(o.animation,"Idle");return}if(m){x(o.animation,"Run");return}if(g){x(o.animation,"Run");return}}function x(t,o){t.name!=o&&(t.frame=0,t.name=o)}function ee(t,o){const m=d()[`${o.image}${o.animation.name}`];t-o.animation.lastFrameTime>=m.frameTime&&(o.animation.frame=(o.animation.frame+1)%m.totalFrames,o.animation.lastFrameTime=t);const g=o.animation.frame*m.width,A=m.height*W(o.animation.direction),L=Math.round(o.x),E=Math.round(o.y);p.drawImage(m.image,g,A,m.width,m.height,L,E,m.width,m.height)}function u(t,o){const m=d()[`${o.image}${o.animation.name}`];t-o.animation.lastFrameTime>=m.frameTime&&(o.animation.frame=(o.animation.frame+1)%m.totalFrames,o.animation.lastFrameTime=t);const g=o.animation.frame*m.width,A=m.height*W(o.animation.direction),L=Math.round(o.x),E=Math.round(o.y);p.drawImage(m.image,g,A,m.width,m.height,L,E,m.width,m.height)}function W(t){switch(t){case"Up":return 0;case"Left":return 1;case"Down":return 2;default:return 3}}function ce(t,o,m,g,A,L){let E=0;o&&(E=-t.acceleration),m&&(E=t.acceleration),t.velocityX+=E*L,E===0&&(t.velocityX*=Math.pow(t.friction,L)),t.velocityX>t.maxSpeed&&(t.velocityX=t.maxSpeed),t.velocityX<-t.maxSpeed&&(t.velocityX=-t.maxSpeed),g&&t.onGround&&(t.velocityY=-t.jumpPower,t.onGround=!1),t.specialCooldownFrames>0&&t.specialCooldownFrames--,t.specialEffectFrames>0&&t.specialEffectFrames--,t.specialEffectFrames==0&&e(a).player.name!="Shane"&&(t.gravity=950),t.specialCooldownFrames>0&&e(a).player.name!="Shane"&&!t.onGround&&t.specialCooldownFrames%30==0&&e(a).particles.push(je("Regen",t.x,t.y)),A&&t.specialCooldownFrames==0&&(e(a).player.name=="Shane"?(e(a).particles.push(je("Aura",t.x,t.y)),t.velocityX=t.maxSpeed*100*(t.velocityX>=0?1:-1),e(a).particles.push(je("Aura",t.x+t.velocityX*L,t.y))):(e(a).particles.push(je("Regen",t.x,t.y)),t.gravity=20,t.friction=5e-7,t.specialEffectFrames=100),t.specialCooldownFrames=250),t.velocityY+=t.gravity*L,t.velocityY>1500&&(t.velocityY=1500)}function ve(t){e(w)&&(t.preventDefault(),re(t.code))}function re(t){switch(t){case"KeyW":case"ArrowUp":P(a,e(a).events.jump=!0);break;case"KeyA":case"ArrowLeft":e(a).events.right||P(a,e(a).events.left=!0);break;case"KeyD":case"ArrowRight":e(a).events.left||P(a,e(a).events.right=!0);break;case"KeyS":case"ArrowDown":case"Space":P(a,e(a).events.special=!0);break}}function fe(t){e(w)&&(t.preventDefault(),j(t.code))}function j(t){switch(t){case"KeyA":case"ArrowLeft":P(a,e(a).events.left=!1);break;case"KeyD":case"ArrowRight":P(a,e(a).events.right=!1);break}}function We(){H(w,!0)}function we(){H(w,!1),P(a,e(a).events.jump=!1),P(a,e(a).events.left=!1),P(a,e(a).events.right=!1),P(a,e(a).events.special=!1)}tt(()=>e(f),()=>{e(f)&&N()}),st(),Te();var Re=Xt();k("resize",wt,N);var xe=l(Re);Gt(xe,{get PositionX(){return e(a).player.x},set PositionX(t){P(a,e(a).player.x=t)},get PositionY(){return e(a).player.y},set PositionY(t){P(a,e(a).player.y=t)},get VelocityX(){return e(a).player.velocityX},set VelocityX(t){P(a,e(a).player.velocityX=t)},get VelocityY(){return e(a).player.velocityY},set VelocityY(t){P(a,e(a).player.velocityY=t)},$$legacy:!0});var ue=h(xe,2),Ae=l(ue);{var he=t=>{var o=Mt(),m=l(o,!0);c(o),de(g=>_(m,g),[()=>(i(),y(()=>i()("game.start")))],oe),U(t,o)};Ye(Ae,t=>{e(w)||t(he)})}var me=h(Ae,2);ze(me,t=>H(f,t),()=>e(f)),c(ue);var ge=h(ue,2),Pe=l(ge),M=l(Pe);let D;var le=h(M,2);let _e;var pe=h(le,2);let Le;c(Pe);var Fe=h(Pe,2),Ee=l(Fe),ye=l(Ee);let Ge;c(Ee),c(Fe),c(ge),c(Re),de((t,o,m,g)=>{Ke(me,"width",e(C)),D=Ne(M,1,"dpad-button dpad-up svelte-gou7br",null,D,t),_e=Ne(le,1,"dpad-button dpad-left svelte-gou7br",null,_e,o),Le=Ne(pe,1,"dpad-button dpad-right svelte-gou7br",null,Le,m),Ge=Ne(ye,1,"action-button svelte-gou7br",null,Ge,g)},[()=>({active:e(a).events.jump}),()=>({active:e(a).events.left}),()=>({active:e(a).events.right}),()=>({active:e(a).player.specialCooldownFrames==0})],oe),k("keydown",me,ve),k("keyup",me,fe),k("focus",me,We),k("blur",me,we),k("click",me,()=>e(f).focus()),k("touchstart",M,()=>re("ArrowUp")),k("touchend",M,()=>j("ArrowUp")),k("mousedown",M,()=>re("ArrowUp")),k("mouseup",M,()=>j("ArrowUp")),k("touchstart",le,()=>re("ArrowLeft")),k("touchend",le,()=>j("ArrowLeft")),k("mousedown",le,()=>re("ArrowLeft")),k("mouseup",le,()=>j("ArrowLeft")),k("touchstart",pe,()=>re("ArrowRight")),k("touchend",pe,()=>j("ArrowRight")),k("mousedown",pe,()=>re("ArrowRight")),k("mouseup",pe,()=>j("ArrowRight")),k("touchstart",ye,()=>re("Space")),k("touchend",ye,()=>j("Space")),k("mousedown",ye,()=>re("Space")),k("mouseup",ye,()=>j("Space")),U(v,Re),Ie(),r()}var Bt=z("<p> </p>"),Ct=z('<div class="game-container svelte-1rbewfo"><div class="hero-image left-two svelte-1rbewfo"><img src="/web/tifa-art.png" alt="Art of Tifa sat on her butt looking into the distance"/></div> <div class="hero-image left svelte-1rbewfo"><img src="/web/juli-art.png" alt="Art of Juliana sat on her butt looking into the distance"/></div> <div class="hero-image right svelte-1rbewfo"><img src="/web/shane-art.png" alt="Art of Shane sat on his butt looking into the distance"/></div> <div class="game-content svelte-1rbewfo"><!> <div class="buttons svelte-1rbewfo"><div class="retro-button svelte-1rbewfo" id="playAsJuli"><canvas id="juliCanvas" width="48" height="48" class="svelte-1rbewfo"></canvas> </div> <div class="retro-button secondary svelte-1rbewfo" id="playAsShane"><canvas id="shaneCanvas" width="48" height="48" class="svelte-1rbewfo"></canvas> </div></div> <div class="controls-panel svelte-1rbewfo"><div class="title svelte-1rbewfo"> </div> <div class="control-row svelte-1rbewfo"><span class="key svelte-1rbewfo">A</span> <span class="key svelte-1rbewfo"> </span> <span class="action svelte-1rbewfo"> </span></div> <div class="control-row svelte-1rbewfo"><span class="key svelte-1rbewfo">D</span> <span class="key svelte-1rbewfo"> </span> <span class="action svelte-1rbewfo"> </span></div> <div class="control-row svelte-1rbewfo"><span class="key svelte-1rbewfo"> </span> <span class="key svelte-1rbewfo">W</span> <span class="action svelte-1rbewfo"> </span></div> <div class="control-row svelte-1rbewfo"><span class="key svelte-1rbewfo"> </span> <span class="key svelte-1rbewfo">s</span> <span class="key svelte-1rbewfo"> </span> <span class="action svelte-1rbewfo"> </span></div></div> <div class="mobile-controls"></div></div></div>');function Nt(v,n){Se(n,!1);const[s,r]=Oe(),i=()=>Ve($e,"$_",s);let d=ne(),T=ne(),w,S,f=ne({}),p=ne("Shane"),X=ne(!1);qe(()=>{w=e(d).getContext("2d"),S=e(T).getContext("2d"),C()});async function C(){H(X,!0);try{let D=await Et();if(w===null||S===null)throw Error("Unable to start game because one of the button contexts is null");w.imageSmoothingEnabled=!1,S.imageSmoothingEnabled=!1;for(var M=0;M<D.length;M++)P(f,e(f)[D[M].name]=D[M]);w.drawImage(e(f).BrideIdle.image,64,128,64,64,0,0,48,48),S.drawImage(e(f).GroomIdle.image,64,128,64,64,0,0,48,48)}catch(D){console.error("Failed to load images:",D)}H(X,!1)}Te();var B=Ct(),I=h(l(B),6),N=l(I);{var te=M=>{kt(M,{get PlayerName(){return e(p)},set PlayerName(D){H(p,D)},get GameImages(){return e(f)},set GameImages(D){H(f,D)},$$legacy:!0})},a=M=>{var D=Bt(),le=l(D,!0);c(D),de(_e=>_(le,_e),[()=>(i(),y(()=>i()("game.loading")))],oe),U(M,D)};Ye(N,M=>{e(X)?M(a,!1):M(te)})}var Y=h(N,2),V=l(Y),Z=l(V);ze(Z,M=>H(d,M),()=>e(d));var ie=h(Z);c(V);var $=h(V,2),se=l($);ze(se,M=>H(T,M),()=>e(T));var q=h(se);c($),c(Y);var K=h(Y,2),J=l(K),ae=l(J,!0);c(J);var Q=h(J,2),R=h(l(Q),2),G=l(R,!0);c(R);var x=h(R,2),ee=l(x);c(x),c(Q);var u=h(Q,2),W=h(l(u),2),ce=l(W,!0);c(W);var ve=h(W,2),re=l(ve);c(ve),c(u);var fe=h(u,2),j=l(fe),We=l(j,!0);c(j);var we=h(j,4),Re=l(we,!0);c(we),c(fe);var xe=h(fe,2),ue=l(xe),Ae=l(ue,!0);c(ue);var he=h(ue,4),me=l(he,!0);c(he);var ge=h(he,2),Pe=l(ge,!0);c(ge),c(xe),c(K),lt(2),c(I),c(B),de((M,D,le,_e,pe,Le,Fe,Ee,ye,Ge,t,o,m,g)=>{_(ie,` ${M??""} Juli`),_(q,` ${D??""} Shane`),_(ae,le),_(G,_e),_(ee,`${pe??""} ${Le??""}`),_(ce,Fe),_(re,`${Ee??""} ${ye??""}`),_(We,Ge),_(Re,t),_(Ae,o),_(me,m),_(Pe,g)},[()=>(i(),y(()=>i()("game.play-as"))),()=>(i(),y(()=>i()("game.play-as"))),()=>(i(),y(()=>i()("game.controls"))),()=>(i(),y(()=>i()("game.left"))),()=>(i(),y(()=>i()("game.move"))),()=>(i(),y(()=>i()("game.left"))),()=>(i(),y(()=>i()("game.right"))),()=>(i(),y(()=>i()("game.move"))),()=>(i(),y(()=>i()("game.right"))),()=>(i(),y(()=>i()("game.up"))),()=>(i(),y(()=>i()("game.jump"))),()=>(i(),y(()=>i()("game.space"))),()=>(i(),y(()=>i()("game.down"))),()=>(i(),y(()=>i()("game.ability")))],oe),k("click",V,()=>H(p,"Juli")),k("click",$,()=>H(p,"Shane")),U(v,B),Ie(),r()}var Yt=z('<div class="container svelte-2x49sb"><canvas class="svelte-2x49sb"></canvas></div>');function Ot(v,n){Se(n,!1);let s=ne(),r,i,d=0,T=0,w=!0;const S=60;let f,p={},X,C=60,B=1e3/C,I=0;const N=`
    attribute vec2 a_position;
    void main() {
      gl_Position = vec4(a_position, 0.0, 1.0);
    }
  `,te=`
    precision mediump float; // Use mediump for better performance on mobile
    
    uniform vec2 u_resolution;
    uniform float u_offset;
    
    // Optimized constants
    const float HORIZON_Y = 0.4;
    const float VANISHING_X = 0.5;
    const float LINE_SPACING = 100.0;
    const float VERT_SPACING = 125.0;
    const int MAX_H_LINES = 15; // Reduced from 20
    const int MAX_V_LINES = 20; // Reduced from 30
    
    // Pre-calculated colors to avoid runtime calculations
    const vec3 BG_COLOR = vec3(0.04, 0.04, 0.06);
    const vec3 CYAN = vec3(0.0, 1.0, 1.0);
    const vec3 MAGENTA = vec3(1.0, 0.0, 1.0);
    const vec3 PURPLE = vec3(0.54, 0.17, 0.89);
    const vec3 BLUE = vec3(0.12, 0.56, 1.0);
    
    // Optimized smoothstep for line rendering
    float fastSmoothstep(float edge0, float edge1, float x) {
      float t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
      return t * t * (3.0 - 2.0 * t);
    }
    
    vec3 synthwaveGrid(vec2 uv, vec2 resolution) {
      vec3 color = BG_COLOR;
      
      // Pre-calculate common values
      float invResY = 1.0 / resolution.y;
      float invResX = 1.0 / resolution.x;
      float heightRange = 1.0 - HORIZON_Y;
      
      // Atmosphere gradient (simplified)
      float atmosphereGrad = fastSmoothstep(HORIZON_Y, 1.0, uv.y);
      color += PURPLE * 0.1 * atmosphereGrad + BLUE * 0.025 * atmosphereGrad;
      
      // Horizontal lines (reduced count)
      float totalSpacing = float(MAX_H_LINES) * LINE_SPACING;
      float offsetMod = mod(u_offset, LINE_SPACING);
      
      for (int i = 0; i < MAX_H_LINES; i++) {
        float fi = float(i);
        float baseProgress = (fi * LINE_SPACING + offsetMod) / totalSpacing;
        float y = HORIZON_Y + heightRange * pow(baseProgress, 2.5);
        
        // Early exit if line is outside visible area
        if (y <= HORIZON_Y || y >= 1.0) continue;
        
        float distanceRatio = (y - HORIZON_Y) / heightRange;
        float opacity = pow(distanceRatio, 0.5);
        float lineWidth = (1.0 + distanceRatio * 2.0) * invResY;
        
        float lineDist = abs(uv.y - y);
        float lineIntensity = fastSmoothstep(lineWidth, 0.0, lineDist);
        
        // Skip expensive calculations if line is not visible
        if (lineIntensity > 0.01) {
          color += CYAN * lineIntensity * opacity * 0.8;
          // Simplified glow (removed expensive exp function)
          color += CYAN * lineIntensity * opacity * 0.1;
        }
      }
      
      // Central vertical line (optimized)
      float centralLineDist = abs(uv.x - VANISHING_X);
      float centralLineWidth = 2.0 * invResY;
      float centralIntensity = fastSmoothstep(centralLineWidth, 0.0, centralLineDist);
      
      if (centralIntensity > 0.01 && uv.y >= HORIZON_Y) {
        float lineProgress = (uv.y - HORIZON_Y) / heightRange;
        vec3 lineColor = mix(CYAN, MAGENTA, 1.0 - lineProgress);
        float lineOpacity = mix(0.0, 0.8, lineProgress);
        if (lineProgress > 0.7) lineOpacity *= (1.0 - lineProgress) / 0.3;
        
        color += lineColor * centralIntensity * lineOpacity;
      }
      
      // Vertical/perspective lines (reduced count)
      float vanishingXPixels = VANISHING_X * resolution.x;
      
      for (int i = -MAX_V_LINES; i <= MAX_V_LINES; i++) {
        if (i == 0) continue; // Skip center line (already drawn)
        
        float fi = float(i);
        float baseXPixels = vanishingXPixels + (fi * VERT_SPACING);
        float startXPixels = baseXPixels + (fi * VERT_SPACING * 2.0);
        float endXPixels = vanishingXPixels + (fi * 10.0);
        
        float startX = startXPixels * invResX;
        float endX = endXPixels * invResX;
        
        // Early culling - skip lines completely outside view
        if ((startX < 0.0 && endX < 0.0) || (startX > 1.0 && endX > 1.0)) continue;
        
        // Optimized line equation
        float denom = endX - startX;
        if (abs(denom) < 0.001) continue; // Avoid division by near-zero
        
        float lineSlope = (HORIZON_Y - 1.0) / denom;
        float lineIntercept = 1.0 - lineSlope * startX;
        float lineY = lineSlope * uv.x + lineIntercept;
        float lineDist = abs(uv.y - lineY);
        
        // Bounds check with early exit
        bool withinBounds = (uv.y >= HORIZON_Y && uv.y <= 1.0) &&
                           ((startX < endX && uv.x >= startX && uv.x <= endX) ||
                            (startX > endX && uv.x >= endX && uv.x <= startX));
        
        if (withinBounds) {
          float lineWidth = 2.0 * invResY;
          float lineIntensity = fastSmoothstep(lineWidth, 0.0, lineDist);
          
          if (lineIntensity > 0.01) {
            float lineProgress = (uv.y - HORIZON_Y) / heightRange;
            vec3 lineColor = mix(CYAN, MAGENTA, 1.0 - lineProgress);
            float lineOpacity = mix(0.0, 0.8, lineProgress);
            if (lineProgress > 0.7) lineOpacity *= (1.0 - lineProgress) / 0.3;
            
            color += lineColor * lineIntensity * lineOpacity;
          }
        }
      }
      
      // Simplified horizon glow
      float horizonDist = abs(uv.y - HORIZON_Y);
      float horizonGlow = fastSmoothstep(50.0 * invResY, 0.0, horizonDist);
      color += PURPLE * horizonGlow * 0.3;
      
      // Simplified vignette
      vec2 center = vec2(0.5, 0.5);
      float vignette = 1.0 - fastSmoothstep(0.0, 1.0, length(uv - center));
      color *= mix(0.6, 1.0, vignette);
      
      return color;
    }
    
    void main() {
      vec2 uv = gl_FragCoord.xy / u_resolution;
      uv.y = 1.0 - uv.y;
      vec3 color = synthwaveGrid(uv, u_resolution);
      gl_FragColor = vec4(color, 1.0);
    }
  `;qe(()=>{if(r=e(s).getContext("webgl",{alpha:!1,antialias:!1,depth:!1,stencil:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance"}),!r){console.error("WebGL not supported");return}return r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),se(),q(),a(),T=performance.now(),K(),document.addEventListener("visibilitychange",Y),window.addEventListener("resize",Z),()=>{document.removeEventListener("visibilitychange",Y),window.removeEventListener("resize",Z),cancelAnimationFrame(i)}});function a(){const G=document.createElement("canvas").getContext("2d"),x=performance.now();for(let u=0;u<1e3;u++)G.fillRect(u%100,u%100,10,10);performance.now()-x>50&&(C=30),B=1e3/C}function Y(){w=!document.hidden,w&&!i&&(T=performance.now(),K())}let V;function Z(){clearTimeout(V),V=setTimeout(q,100)}function ie(R,G){const x=r.createShader(R);return r.shaderSource(x,G),r.compileShader(x),r.getShaderParameter(x,r.COMPILE_STATUS)?x:(console.error("Shader compilation error:",r.getShaderInfoLog(x)),r.deleteShader(x),null)}function $(R,G){const x=r.createProgram();return r.attachShader(x,R),r.attachShader(x,G),r.linkProgram(x),r.getProgramParameter(x,r.LINK_STATUS)?x:(console.error("Program linking error:",r.getProgramInfoLog(x)),r.deleteProgram(x),null)}function se(){const R=ie(r.VERTEX_SHADER,N),G=ie(r.FRAGMENT_SHADER,te);if(!R||!G){console.error("Failed to create shaders");return}if(f=$(R,G),!f){console.error("Failed to create WebGL program");return}r.useProgram(f),p.resolution=r.getUniformLocation(f,"u_resolution"),p.offset=r.getUniformLocation(f,"u_offset");const x=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);X=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,X),r.bufferData(r.ARRAY_BUFFER,x,r.STATIC_DRAW);const ee=r.getAttribLocation(f,"a_position");r.enableVertexAttribArray(ee),r.vertexAttribPointer(ee,2,r.FLOAT,!1,0,0)}function q(){if(!e(s)||!r)return;const R=window.devicePixelRatio||1,G=window.innerWidth,x=window.innerHeight,u=Math.min(R,2);P(s,e(s).width=G*u),P(s,e(s).height=x*u),P(s,e(s).style.width=G+"px"),P(s,e(s).style.height=x+"px"),r.viewport(0,0,e(s).width,e(s).height)}function K(R=performance.now()){if(!w){i=null;return}const G=R-I;if(G<B){i=requestAnimationFrame(K);return}I=R-G%B;const x=(R-T)/1e3;T=R,d+=S*x,J(),i=requestAnimationFrame(K)}function J(){!f||!r||(r.uniform2f(p.resolution,e(s).width,e(s).height),r.uniform1f(p.offset,d),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLES,0,6))}Te();var ae=Yt(),Q=l(ae);ze(Q,R=>H(s,R),()=>e(s)),c(ae),U(v,ae),Ie()}var Wt=z('<div class="wrapper svelte-1j0msly"><h1 class="glitch svelte-1j0msly" style="--element-width: 1000px"> </h1></div>');function Dt(v,n){let s=O(n,"text",8,"Glitch");var r=Wt(),i=l(r),d=l(i,!0);c(i),c(r),de(()=>{Ke(i,"data-text",s()),_(d,s())}),U(v,r)}var Ht=z('<a><span class="svelte-1y80bin"> </span></a>');function Ut(v,n){let s=O(n,"text",8),r=O(n,"href",8),i=ne(!1);var d=Ht();let T;var w=l(d),S=l(w,!0);c(w),c(d),de(f=>{T=Ne(d,1,"holo-btn svelte-1y80bin",null,T,f),Ke(d,"href",r()),_(S,s())},[()=>({hovered:e(i)})],oe),k("mouseenter",d,()=>H(i,!0)),k("mouseleave",d,()=>H(i,!1)),U(v,d)}var zt=z('<link href="https://fonts.googleapis.com/css2?family=Yellowtail&amp;display=swap" rel="stylesheet" class="svelte-cqq0gf"/>'),Vt=z("<h1> </h1>"),$t=z('<h2 class="neon-text svelte-cqq0gf"> </h2>'),jt=z('<div class="neon-container svelte-cqq0gf"><!></div>');function nt(v,n){let s=O(n,"text",8,"Neon Text"),r=O(n,"level",8,1),i=O(n,"animate",8,!0);var d=jt();ct(f=>{var p=zt();U(f,p)});var T=l(d);{var w=f=>{var p=Vt();let X;var C=l(p,!0);c(p),de(B=>{X=Ne(p,1,"neon-text svelte-cqq0gf",null,X,B),_(C,s())},[()=>({animate:i()})],oe),U(f,p)},S=f=>{var p=$t(),X=l(p,!0);c(p),de(()=>_(X,s())),U(f,p)};Ye(T,f=>{r()===1?f(w):f(S,!1)})}c(d),U(v,d)}var Zt=z('<div class="welcome svelte-1lrv73d"><!> <div class="contents svelte-1lrv73d"><div class="introduction svelte-1lrv73d"><div class="item svelte-1lrv73d"><!></div> <div class="item svelte-1lrv73d"><!></div> <div class="glitch svelte-1lrv73d"><!></div></div> <div class="details-container svelte-1lrv73d"><div class="details"> </div></div> <div class="specifics svelte-1lrv73d"><div class="specific svelte-1lrv73d"><div class="title svelte-1lrv73d"> </div> <div class="context svelte-1lrv73d"> </div></div> <div class="specific svelte-1lrv73d"><div class="title svelte-1lrv73d">Brickhouse social</div> <div class="context svelte-1lrv73d">11 New Wakefield St, M1 5NP</div></div></div> <div class="cta svelte-1lrv73d"><!></div></div></div>');function qt(v,n){Se(n,!1);const[s,r]=Oe(),i=()=>Ve($e,"$_",s);Te();var d=Zt(),T=l(d);Ot(T,{});var w=h(T,2),S=l(w),f=l(S),p=l(f);const X=oe(()=>(i(),y(()=>i()("welcome.were-getting-married"))));nt(p,{get text(){return e(X)}}),c(f);var C=h(f,2),B=l(C);const I=oe(()=>(i(),y(()=>i()("welcome.and-youre-invited"))));nt(B,{get text(){return e(I)}}),c(C);var N=h(C,2),te=l(N);Dt(te,{text:"Shane & Juliana"}),c(N),c(S);var a=h(S,2),Y=l(a),V=l(Y,!0);c(Y),c(a);var Z=h(a,2),ie=l(Z),$=l(ie),se=l($);c($);var q=h($,2),K=l(q);c(q),c(ie),lt(2),c(Z);var J=h(Z,2),ae=l(J);const Q=oe(()=>(i(),y(()=>i()("welcome.cta-text")))),R=oe(()=>(i(),y(()=>i()("welcome.cta-link")))),G=oe(()=>(i(),y(()=>i()("welcome.cta-padding"))));Ut(ae,{get text(){return e(Q)},get href(){return e(R)},get padding(){return e(G)}}),c(J),c(w),c(d),de((x,ee,u)=>{_(V,x),_(se,`31 ${ee??""} 2026`),_(K,`${u??""} 19:00`)},[()=>(i(),y(()=>i()("welcome.dancing-shoes"))),()=>(i(),y(()=>i()("welcome.january"))),()=>(i(),y(()=>i()("welcome.doors-open")))],oe),U(v,d),Ie(),r()}var Kt=z('<div class="error-message svelte-2wgxf0"><p class="svelte-2wgxf0">Google Maps API key is required</p></div>'),Jt=z('<div class="loading-message svelte-2wgxf0"><p class="svelte-2wgxf0">Loading map...</p></div>'),Qt=z('<div class="google-map svelte-2wgxf0"><!></div>');function ot(v,n){Se(n,!1);let s=O(n,"apiKey",8,"AIzaSyAg-JnddkifD5VUJMcc6_gyIPlYY88aLL0"),r=O(n,"centerLat",12,53.4734624),i=O(n,"centerLng",28,()=>-2.2413626),d=O(n,"zoom",12,16),T=O(n,"width",8,"100%"),w=O(n,"height",8,"400px"),S=O(n,"mapStyles",24,()=>[{featureType:"all",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#ff709d"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#130e22"}]},{featureType:"landscape",elementType:"geometry.stroke",stylers:[{color:"#130e22"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#130e22"}]},{featureType:"poi",elementType:"geometry",stylers:[{lightness:21}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#130e22"}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{color:"#130e22"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"},{color:"#156465"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#156465"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#156465"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#156465"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#156465"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#156465"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#156465"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#156465"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"all",stylers:[{color:"#2b3638"},{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2b3638"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#24282b"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{color:"#24282b"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.icon",stylers:[{visibility:"off"}]}]),f=O(n,"markers",28,()=>[{lat:53.473635,lng:-2.241423,title:"Brickhouse Social"}]),p=O(n,"disableDefaultUI",8,!1),X=O(n,"gestureHandling",8,"auto"),C=O(n,"mapTypeId",8,"roadmap"),B=ne(),I=ne(),N=ne(),te=[],a,Y=ne(!1);async function V(){if(window.google&&window.google.maps){H(N,window.google);return}return new Promise((u,W)=>{H(N,window.google),u()})}async function Z(){if(!e(N)||!e(B)||e(Y))return;const u={center:{lat:r(),lng:i()},zoom:d(),styles:S(),disableDefaultUI:p(),gestureHandling:X(),mapTypeId:C()};H(I,new(e(N)).maps.Map(e(B),u)),H(Y,!0),ie()}function ie(){!e(I)||!e(N)||(te.forEach(u=>u.setMap(null)),te=[],f().forEach(u=>{const W=new(e(N)).maps.Marker({position:{lat:u.lat,lng:u.lng},map:e(I),title:u.title||"",icon:u.icon||null});if(u.title){const ce=new(e(N)).maps.InfoWindow({content:u.title});W.addListener("click",()=>{ce.open(e(I),W)})}te.push(W)}))}function $(){e(B)&&(a=new IntersectionObserver(u=>{u.forEach(async W=>{if(W.isIntersecting&&!e(Y)){try{await V(),await Z()}catch(ce){console.error("Error loading Google Maps:",ce)}a.unobserve(e(B))}})},{threshold:.1,rootMargin:"50px"}),a.observe(e(B)))}qe(()=>{$()}),_t(()=>{a&&a.disconnect()});function se(){return e(I)}function q(u){r(u.lat),i(u.lng),e(I)&&e(I).setCenter(u)}function K(u){d(u),e(I)&&e(I).setZoom(d())}function J(u){f([...f(),u])}function ae(){f([])}async function Q(){if(!e(Y))try{await V(),await Z()}catch(u){console.error("Error force-loading Google Maps:",u)}}tt(()=>(e(I),e(N),e(Y),be(r()),be(i()),be(d()),be(S()),be(p()),be(X()),be(C())),()=>{e(I)&&e(N)&&e(Y)&&(e(I).setCenter({lat:r(),lng:i()}),e(I).setZoom(d()),e(I).setOptions({styles:S(),disableDefaultUI:p(),gestureHandling:X(),mapTypeId:C()}))}),tt(()=>(e(I),be(f()),e(Y)),()=>{e(I)&&f()&&e(Y)&&ie()}),st(),Te();var R=Qt(),G=l(R);{var x=u=>{var W=Kt();U(u,W)},ee=(u,W)=>{{var ce=ve=>{var re=Jt();U(ve,re)};Ye(u,ve=>{e(Y)||ve(ce)},W)}};Ye(G,u=>{s()?u(ee,!1):u(x)})}return c(R),ze(R,u=>H(B,u),()=>e(B)),de(()=>Tt(R,`width: ${T()??""}; height: ${w()??""};`)),U(v,R),Ce(n,"getMap",se),Ce(n,"setCenter",q),Ce(n,"setZoom",K),Ce(n,"addMarker",J),Ce(n,"clearMarkers",ae),Ce(n,"forceInit",Q),Ie({getMap:se,setCenter:q,setZoom:K,addMarker:J,clearMarkers:ae,forceInit:Q})}var ei=z('<div class="instructions svelte-1nirxi0"><div class="logo svelte-1nirxi0"><img src="/web/ceremony.png" alt="A generated logo for the ceremony venue - The Pankhurst Suite" class="svelte-1nirxi0"/></div> <div class="items svelte-1nirxi0"><div class="item svelte-1nirxi0"><div class="title svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div></div> <div class="item svelte-1nirxi0"><div class="title svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div></div> <div class="item svelte-1nirxi0"><div class="title svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div></div></div> <div class="map svelte-1nirxi0"><!></div> <div class="logo svelte-1nirxi0"><img src="/web/brickhouse.png" alt="A generated logo for the party venue - brickhouse social" class="svelte-1nirxi0"/></div> <div class="items svelte-1nirxi0"><div class="item svelte-1nirxi0"><div class="title svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div></div> <div class="item svelte-1nirxi0"><div class="title svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div></div> <div class="item svelte-1nirxi0"><div class="title svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div> <div class="value svelte-1nirxi0"> </div></div></div> <div class="map svelte-1nirxi0"><!></div></div>');function ti(v,n){Se(n,!1);const[s,r]=Oe(),i=()=>Ve($e,"$_",s);Te();var d=ei(),T=h(l(d),2),w=l(T),S=l(w),f=l(S,!0);c(S);var p=h(S,2),X=l(p,!0);c(p);var C=h(p,2),B=l(C,!0);c(C),c(w);var I=h(w,2),N=l(I),te=l(N,!0);c(N);var a=h(N,2),Y=l(a,!0);c(a);var V=h(a,2),Z=l(V,!0);c(V),c(I);var ie=h(I,2),$=l(ie),se=l($,!0);c($);var q=h($,2),K=l(q,!0);c(q);var J=h(q,2),ae=l(J,!0);c(J),c(ie),c(T);var Q=h(T,2),R=l(Q);ot(R,{centerLat:53.4791626,centerLng:-2.2465828,markers:[{lat:53.4791626,lng:-2.2465828,title:"Registration of Births Deaths & Marriages"}]}),c(Q);var G=h(Q,4),x=l(G),ee=l(x),u=l(ee,!0);c(ee);var W=h(ee,2),ce=l(W,!0);c(W);var ve=h(W,2),re=l(ve,!0);c(ve),c(x);var fe=h(x,2),j=l(fe),We=l(j,!0);c(j);var we=h(j,2),Re=l(we,!0);c(we);var xe=h(we,2),ue=l(xe,!0);c(xe),c(fe);var Ae=h(fe,2),he=l(Ae),me=l(he,!0);c(he);var ge=h(he,2),Pe=l(ge,!0);c(ge);var M=h(ge,2),D=l(M,!0);c(M),c(Ae),c(G);var le=h(G,2),_e=l(le);ot(_e,{}),c(le),c(d),de((pe,Le,Fe,Ee,ye,Ge,t,o,m,g,A,L,E,F,Me,Xe,ke,Be)=>{_(f,pe),_(X,Le),_(B,Fe),_(te,Ee),_(Y,ye),_(Z,Ge),_(se,t),_(K,o),_(ae,m),_(u,g),_(ce,A),_(re,L),_(We,E),_(Re,F),_(ue,Me),_(me,Xe),_(Pe,ke),_(D,Be)},[()=>(i(),y(()=>i()("instructions.ceremony.schedule"))),()=>(i(),y(()=>i()("instructions.ceremony.schedule-info-start"))),()=>(i(),y(()=>i()("instructions.ceremony.schedule-info-end"))),()=>(i(),y(()=>i()("instructions.ceremony.what-to-expect"))),()=>(i(),y(()=>i()("instructions.ceremony.what-to-expect-info-dress"))),()=>(i(),y(()=>i()("instructions.ceremony.what-to-expect-info-gifts"))),()=>(i(),y(()=>i()("instructions.ceremony.getting-there"))),()=>(i(),y(()=>i()("instructions.ceremony.getting-there-info-location"))),()=>(i(),y(()=>i()("instructions.ceremony.getting-there-info-finding-it"))),()=>(i(),y(()=>i()("instructions.party.schedule"))),()=>(i(),y(()=>i()("instructions.party.schedule-info-start"))),()=>(i(),y(()=>i()("instructions.party.schedule-info-end"))),()=>(i(),y(()=>i()("instructions.party.what-to-expect"))),()=>(i(),y(()=>i()("instructions.party.what-to-expect-info-drinks"))),()=>(i(),y(()=>i()("instructions.party.what-to-expect-info-food"))),()=>(i(),y(()=>i()("instructions.party.getting-there"))),()=>(i(),y(()=>i()("instructions.party.getting-there-info-location"))),()=>(i(),y(()=>i()("instructions.party.getting-there-info-finding-it")))],oe),U(v,d),Ie(),r()}var ii=z('<meta name="description"/>'),ai=z("<section><!> <!> <!></section>");function fi(v,n){Se(n,!1);const[s,r]=Oe(),i=()=>Ve($e,"$_",s);Te();var d=ai();ct(f=>{var p=ii();de((X,C)=>{xt.title=X,Ke(p,"content",C)},[()=>(i(),y(()=>i()("head.title"))),()=>(i(),y(()=>i()("head.title")))],oe),U(f,p)});var T=l(d);qt(T,{});var w=h(T,2);ti(w,{});var S=h(w,2);Nt(S,{}),c(d),U(v,d),Ie(),r()}export{fi as component,mi as universal};
